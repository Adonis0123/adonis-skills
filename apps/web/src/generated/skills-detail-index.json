[
  {
    "slug": "claude-skills-sync-init",
    "sections": [
      {
        "raw": "åœ¨ç›®æ ‡é¡¹ç›®ä¸­åˆå§‹åŒ– skills åŒæ­¥èƒ½åŠ›æ—¶ï¼Œä½¿ç”¨æœ¬ Skillã€‚",
        "heading": "Claude Skills Sync Init",
        "level": 1
      },
      {
        "raw": "ç›®æ ‡æ˜¯åœ¨ç›®æ ‡ä»“åº“è‡ªåŠ¨è½åœ°ä»¥ä¸‹èƒ½åŠ›ï¼š\n\n1. ç”Ÿæˆ `scripts/sync-llm-skills.ts`ï¼Œæ”¯æŒ `--source`ã€`--targets`ã€`--dry-run`ã€‚\n2. æ³¨å…¥ `scripts.skills:sync:llm` å‘½ä»¤ã€‚\n3. è‡ªåŠ¨ç¡®ä¿ `devDependencies.is-ci` å­˜åœ¨ï¼ˆç¼ºå¤±æ—¶è‡ªåŠ¨å†™å…¥ï¼‰ã€‚\n4. ä»¥å¹‚ç­‰æ–¹å¼åˆå¹¶ `postinstall`ï¼Œé»˜è®¤æ³¨å…¥ `is-ci` CI guardã€‚\n5. åŒæ­¥ç›®æ ‡ä»…ä¸º `.claude/skills`ã€‚\n6. åŒæ­¥è¿‡ç¨‹é‡‡ç”¨åŸå­åˆ‡æ¢ï¼Œé¿å…å¤åˆ¶å¤±è´¥æ—¶æ¸…ç©ºç›®æ ‡ç›®å½•ã€‚\n7. è‡ªåŠ¨ç¡®ä¿ç›®æ ‡ä»“åº“ `.gitignore` åŒ…å« `/.claude/skills`ã€‚",
        "heading": "Overview",
        "level": 2
      },
      {
        "raw": "1. æ”¶é›†ä¸Šä¸‹æ–‡\n- ç¡®è®¤ç›®æ ‡ä»“åº“æ ¹ç›®å½•ï¼ˆå­˜åœ¨ `package.json`ï¼‰ã€‚\n- ç¡®è®¤æºç›®å½•æ˜¯å¦ä»ä½¿ç”¨ `.agents/skills`ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚\n- ç¡®è®¤ç›®æ ‡ç›®å½•ä¸º `.claude/skills`ï¼ˆé»˜è®¤ä¸”å”¯ä¸€ç›®æ ‡ï¼‰ã€‚\n\n2. æ‰§è¡Œè‡ªåŠ¨è½åœ°è„šæœ¬\n- åœ¨ç›®æ ‡ä»“åº“æ‰§è¡Œï¼š\n```bash\nnode /path/to/claude-skills-sync-init/scripts/bootstrap-sync-skills.mjs --project /path/to/target-repo\n```\n- å¯é€‰å‚æ•°ï¼š\n  - `--script-name`ï¼ˆé»˜è®¤ `skills:sync:llm`ï¼‰\n  - `--script-path`ï¼ˆé»˜è®¤ `scripts/sync-llm-skills.ts`ï¼‰\n  - `--skip-postinstall`ï¼ˆè·³è¿‡ postinstall æ³¨å…¥ï¼‰\n- `--script-name` ä»…å…è®¸å­—ç¬¦é›† `[A-Za-z0-9:._-]+`ï¼Œéæ³•å€¼å¿…é¡»å¤±è´¥é€€å‡ºã€‚\n\n3. è¿è¡ŒåŒæ­¥å‘½ä»¤éªŒè¯\n- é»˜è®¤éªŒè¯ï¼š\n```bash\npnpm run skills:sync:llm -- --dry-run\n```\n- æ˜¾å¼æŒ‡å®šç›®æ ‡ï¼ˆå¯é€‰ï¼‰ï¼š\n```bash\npnpm run skills:sync:llm -- --targets=claude\n```\n\n4. è¾“å‡ºå˜æ›´æ‘˜è¦\n- åˆ—å‡ºæ–°å¢/æ›´æ–°æ–‡ä»¶ï¼š\n  - `scripts/sync-llm-skills.ts`\n  - `package.json`\n  - `.gitignore`\n- è¯´æ˜ `is-ci` ä¾èµ–å¤„ç†ç»“æœï¼ˆæ–°å¢æˆ–å·²å­˜åœ¨ï¼‰ã€‚\n- è¯´æ˜ postinstall åˆå¹¶ç»“æœï¼ˆæ–°å»ºã€è¿½åŠ ã€æˆ–å·²å­˜åœ¨è·³è¿‡ï¼‰ï¼Œå¹¶æ ‡æ³¨ CI guard æ˜¯å¦ç”Ÿæ•ˆã€‚\n- è¯´æ˜ `.gitignore` çš„ `/.claude/skills` å¿½ç•¥è§„åˆ™å¤„ç†ç»“æœï¼ˆæ–°å¢æˆ–å·²å­˜åœ¨ï¼‰ã€‚\n- é™„ä¸ŠéªŒè¯å‘½ä»¤ä¸æ‰§è¡Œç»“æœã€‚",
        "heading": "Execution Flow",
        "level": 2
      },
      {
        "raw": "- è‡ªåŠ¨è½åœ°è„šæœ¬ï¼š`scripts/bootstrap-sync-skills.mjs`\n- åŒæ­¥è„šæœ¬æ¨¡æ¿ï¼š`assets/templates/sync-llm-skills.ts`\n- é›†æˆæ£€æŸ¥æ¸…å•ï¼š`references/integration-checklist.md`",
        "heading": "Resources",
        "level": 2
      },
      {
        "raw": "1. ä»…åœ¨ç›®æ ‡ä»“åº“æ ¹ç›®å½•æ‰§è¡Œï¼ˆå¿…é¡»å¯è¯»å†™ `package.json`ï¼‰ã€‚\n2. ä¿æŒå¹‚ç­‰ï¼šé‡å¤æ‰§è¡Œä¸å¾—é‡å¤æ³¨å…¥å‘½ä»¤æˆ– postinstall ç‰‡æ®µã€‚\n3. ä¸è¦†ç›–å·²æœ‰ postinstall é€»è¾‘ï¼Œåªåšè¿½åŠ åˆå¹¶ã€‚\n4. æºç›®å½•ä¸å­˜åœ¨æ—¶å¿…é¡»å¤±è´¥å¹¶è¿”å›éé›¶é€€å‡ºç ã€‚\n5. postinstall å»é‡å¿…é¡»åšå®Œæ•´å‘½ä»¤/å®Œæ•´è„šæœ¬è°ƒç”¨åŒ¹é…ï¼Œä¸èƒ½ä½¿ç”¨å®½æ¾å­ä¸²åŒ¹é…ã€‚\n6. åŒæ­¥å®ç°å¿…é¡»ä¼˜å…ˆå¤åˆ¶åˆ°ä¸´æ—¶ç›®å½•ï¼Œå†åˆ‡æ¢ç›®æ ‡ç›®å½•ï¼Œå¹¶åœ¨å¤±è´¥æ—¶å°è¯•å›æ»šã€‚\n7. è‹¥ç›®æ ‡ä»“åº“ç¼ºå°‘ `is-ci`ï¼Œå¿…é¡»è‡ªåŠ¨å†™å…¥ `devDependencies.is-ci`ï¼Œå†æ³¨å…¥ CI guard å‘½ä»¤ã€‚",
        "heading": "Guardrails",
        "level": 2
      }
    ]
  },
  {
    "slug": "code-inspector-init",
    "sections": [
      {
        "raw": "åœ¨å¼€å‘ç¯å¢ƒä¸ºå‰ç«¯é¡¹ç›®æ¥å…¥ `code-inspector-plugin`ï¼Œå®ç°æŒ‰ç»„åˆé”®åç‚¹å‡» DOM è·³è½¬åˆ°æºç ä½ç½®ã€‚ä¼˜å…ˆç»™å‡ºæœ€å°æ”¹åŠ¨ã€å¯å¤åˆ¶ã€å¯å›æ»šçš„è¿ç§»æ–¹æ¡ˆï¼Œé»˜è®¤ä½¿ç”¨æ’ä»¶åŸç”Ÿå¼€å…³ç­–ç•¥ï¼š`needEnvInspector: true` + `.env.local` ä¸­è®¾ç½® `CODE_INSPECTOR=true`ï¼›ä½† Next.js `>=15.3` ä¸»æ¨¡æ¿é»˜è®¤ä½¿ç”¨ `hotKeys: [\"altKey\"]` + `needEnvInspector: false`ã€‚",
        "heading": "Overview",
        "level": 2
      },
      {
        "raw": "- å¸®æˆ‘æ¥å…¥ `code-inspector-plugin`\n- å¸®æˆ‘è¿ç§» `codeInspectorPlugin` åˆ°æ–°é¡¹ç›®\n- Next.js/Vite/Webpack æ€ä¹ˆé… code inspector\n- ç‚¹å‡»é¡µé¢å…ƒç´ è·³ä¸åˆ° IDE\n- Alt+Shift æ²¡ååº” / å¿«æ·é”®æ€ä¹ˆæ”¹",
        "heading": "Trigger Phrases",
        "level": 2
      },
      {
        "raw": "1. è¯†åˆ«æ¡†æ¶ä¸ bundlerã€‚\n- ä» `package.json`ã€é…ç½®æ–‡ä»¶åã€æ„å»ºå‘½ä»¤ç¡®è®¤æ˜¯ Next.jsã€Viteã€Webpackã€Rspackã€Rsbuildã€Esbuildã€Makoã€Umiã€Nuxtã€Astro ä¸­å“ªä¸€ç§ã€‚\n\n2. å¦‚æœæ˜¯ Next.jsï¼Œå…ˆåˆ¤æ–­ç‰ˆæœ¬åŒºé—´ã€‚\n- `<=14.x`ï¼šä½¿ç”¨ webpack æ’ä»¶æ¥å…¥ã€‚\n- `15.0.x ~ 15.2.x`ï¼šä½¿ç”¨ `experimental.turbo.rules`ã€‚\n- `>=15.3.x`ï¼ˆåŒ…å« 16ï¼‰ï¼šä½¿ç”¨ `turbopack.rules`ã€‚\n\n3. é€‰æ‹©å¼€å…³ç­–ç•¥ã€‚\n- é»˜è®¤ï¼š`needEnvInspector: true`ï¼ˆæ¨èï¼Œè¿ç§»ä¸€è‡´æ€§æœ€å¥½ï¼‰ã€‚\n- Next.js `>=15.3` ä¸»æ¨¡æ¿ç‰¹ä¾‹ï¼šé»˜è®¤ `needEnvInspector: false`ï¼Œå¹¶ä½¿ç”¨ `hotKeys: [\"altKey\"]` åšæœ€å°æ¥å…¥ã€‚\n- ç”¨æˆ·æ˜ç¡®è¦æ±‚é¡¹ç›®è‡ªå®šä¹‰å¼€å…³æ—¶ï¼Œå†è¡¥å…… `ENABLE_CODE_INSPECTOR` ç­‰å¤–å±‚æ¡ä»¶ã€‚\n\n4. åˆ¤æ–­æ˜¯å¦éœ€è¦é«˜çº§é€‰é¡¹ã€‚\n- åªæœ‰ç”¨æˆ·æ˜ç¡®æå‡ºéœ€æ±‚æ‰è°ƒæ•´ `hotKeys`ã€`hideConsole`ã€`openIn`ã€`launchType`ã€`include/exclude`ã€`mappings`ã€`pathType`ã€`skipSnippets`ã€‚",
        "heading": "Decision Tree",
        "level": 2
      },
      {
        "raw": "1. è¯†åˆ«é¡¹ç›®ç¯å¢ƒã€‚\n- ç¡®è®¤æ¡†æ¶ã€bundlerã€é…ç½®æ–‡ä»¶è·¯å¾„ã€æ˜¯å¦ dev-only é…ç½®ã€‚\n\n2. å®‰è£…ä¾èµ–ã€‚\n- ç»™å‡ºå•è¡Œå‘½ä»¤ï¼š`pnpm add -D code-inspector-plugin`ï¼ˆå¦‚é¡¹ç›®ä½¿ç”¨ npm/yarnï¼Œåˆ™ç»™å¯¹åº”å‘½ä»¤ï¼‰ã€‚\n\n3. æ³¨å…¥é…ç½®ã€‚\n- ä» `references/bundler-recipes.md` é€‰æ‹©å¯¹åº”ç‰‡æ®µã€‚\n- é…ç½®ä¸­å¿…é¡»åŒ…å«æ­£ç¡®çš„ `bundler` å€¼ã€‚\n\n4. è®¾ç½® `.env.local`ã€‚\n- ä»…å½“æ¨¡æ¿æ˜¾å¼ä½¿ç”¨ `needEnvInspector: true` æ—¶ï¼Œæ·»åŠ  `CODE_INSPECTOR=true`ã€‚\n- å¯¹ Next.js `>=15.3` ä¸»æ¨¡æ¿ï¼ˆ`hotKeys: [\"altKey\"]` + `needEnvInspector: false`ï¼‰ä¸å¼ºåˆ¶é…ç½® `.env.local`ã€‚\n\n5. æœ¬åœ°éªŒè¯ã€‚\n- å¯åŠ¨ devã€‚\n- åœ¨é¡µé¢æŒ‰é»˜è®¤ç»„åˆé”®ï¼ˆå¤šæ•°æ¨¡æ¿ä¸º Mac: `Option+Shift` / Windows: `Alt+Shift`ï¼›Next.js `>=15.3` ä¸»æ¨¡æ¿ä¸º `Option/Alt` å•é”®ï¼‰åæ‚¬æµ®å¹¶ç‚¹å‡» DOMã€‚\n- è§‚å¯Ÿæµè§ˆå™¨æ§åˆ¶å°æç¤ºå’Œ IDE è·³è½¬ç»“æœã€‚\n\n6. æ•…éšœæ’æŸ¥ã€‚\n- å‡ºç° IDE æ— æ³•æ‰“å¼€ã€å¿«æ·é”®æ— æ•ˆã€è·¯å¾„é”™è¯¯ã€ç«¯å£å†²çªæ—¶ï¼ŒæŒ‰ `references/troubleshooting.md` åˆ†æ­¥æ’æŸ¥ã€‚",
        "heading": "Execution Workflow",
        "level": 2
      },
      {
        "raw": "- éœ€è¦æ¡†æ¶é…ç½®ä»£ç ç‰‡æ®µæ—¶ï¼šè¯»å– `references/bundler-recipes.md`ã€‚\n- éœ€è¦å®šåˆ¶å‚æ•°ä¸é£é™©è¯„ä¼°æ—¶ï¼šè¯»å– `references/options-cheatsheet.md`ã€‚\n- éœ€è¦æ’éšœæ­¥éª¤æ—¶ï¼šè¯»å– `references/troubleshooting.md`ã€‚\n- ä¸è¦ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨ referencesï¼ŒåªæŒ‰å½“å‰è¯·æ±‚åœºæ™¯è¯»å–å¯¹åº”æ–‡ä»¶ã€‚",
        "heading": "Reference Routing",
        "level": 2
      },
      {
        "raw": "è¾“å‡ºå¿…é¡»ä¸¥æ ¼åŒ…å«ä»¥ä¸‹å››éƒ¨åˆ†ï¼Œä¸”é¡ºåºå›ºå®šï¼š\n\n1. æ”¹åŠ¨ç‚¹æ¸…å•\n- è¯´æ˜è¦æ”¹å“ªäº›æ–‡ä»¶ã€æ¯ä¸ªæ–‡ä»¶åšä»€ä¹ˆã€‚\n\n2. å¯å¤åˆ¶ä»£ç å—\n- ç»™å®Œæ•´å¯ç”¨çš„é…ç½®ç‰‡æ®µï¼Œä¸ç»™ä¼ªä»£ç ã€‚\n- ä»£ç å—é‡Œä¿ç•™è‹±æ–‡ API åä¸é…ç½®é”®ã€‚\n\n3. éªŒè¯å‘½ä»¤\n- æä¾›å¯ç›´æ¥æ‰§è¡Œçš„å•è¡Œå‘½ä»¤ã€‚\n- ç»™å‡ºæˆåŠŸåˆ¤å®šæ ‡å‡†ã€‚\n\n4. å›æ»šè¯´æ˜\n- è¯´æ˜å¦‚ä½•ç§»é™¤æ’ä»¶é…ç½®å’Œç¯å¢ƒå˜é‡ã€‚",
        "heading": "Output Contract",
        "level": 2
      },
      {
        "raw": "- é»˜è®¤åªåœ¨å¼€å‘ç¯å¢ƒå¯ç”¨ï¼Œä¸åœ¨ç”Ÿäº§æ„å»ºå¼€å¯ inspectorã€‚\n- ä¿®æ”¹ä¿æŒæœ€å°åŒ–ï¼Œä¸é¡ºå¸¦é‡æ„æ— å…³ä»£ç ã€‚\n- ä¸ç¡®å®šæ¡†æ¶ç‰ˆæœ¬æ—¶ï¼Œå…ˆè¯»å– `package.json` ä¸ lockfile å†ä¸‹ç»“è®ºã€‚\n- æ¶‰åŠ `node_modules` æºç æ˜ å°„æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ `mappings` ä¸”ç»™å‡ºé£é™©è¯´æ˜ã€‚",
        "heading": "Guardrails",
        "level": 2
      }
    ]
  },
  {
    "slug": "commit",
    "sections": [
      {
        "raw": "æ ¹æ®æš‚å­˜çš„ä»£ç å˜æ›´è‡ªåŠ¨ç”Ÿæˆç¬¦åˆ Conventional Commits è§„èŒƒçš„æäº¤ä¿¡æ¯ï¼Œå¹¶è‡ªåŠ¨æ·»åŠ å¯¹åº”çš„ emoji å‰ç¼€ã€‚",
        "heading": "Commit Message Generator",
        "level": 1
      },
      {
        "raw": "- ç”¨æˆ·æ‰§è¡Œ `/commit` å‘½ä»¤\n- ç”¨æˆ·è¯·æ±‚ç”Ÿæˆæäº¤ä¿¡æ¯\n- ç”¨æˆ·éœ€è¦å¸®åŠ©ç¼–å†™ç¬¦åˆè§„èŒƒçš„ commit message",
        "heading": "ä½¿ç”¨åœºæ™¯",
        "level": 2
      },
      {
        "raw": "æ‰§è¡Œ `git status` æŸ¥çœ‹å½“å‰æš‚å­˜çš„æ–‡ä»¶å˜æ›´ã€‚å¦‚æœæ²¡æœ‰æš‚å­˜çš„æ–‡ä»¶ï¼Œæç¤ºç”¨æˆ·å…ˆä½¿ç”¨ `git add` æ·»åŠ æ–‡ä»¶ã€‚",
        "heading": "1. æ£€æŸ¥æš‚å­˜çŠ¶æ€",
        "level": 3
      },
      {
        "raw": "æ‰§è¡Œ `git diff --cached` è·å–æš‚å­˜çš„ä»£ç å·®å¼‚ï¼Œåˆ†æå˜æ›´å†…å®¹ï¼š\n\n- è¯†åˆ«å˜æ›´çš„æ–‡ä»¶ç±»å‹å’Œä½ç½®\n- ç†è§£å˜æ›´çš„ç›®çš„ï¼ˆæ–°åŠŸèƒ½ã€ä¿®å¤ã€é‡æ„ç­‰ï¼‰\n- ç¡®å®šå½±å“èŒƒå›´ï¼ˆscopeï¼‰",
        "heading": "2. åˆ†æä»£ç å˜æ›´",
        "level": 3
      },
      {
        "raw": "æ ¹æ®åˆ†æç»“æœç”Ÿæˆç¬¦åˆè§„èŒƒçš„æäº¤ä¿¡æ¯ã€‚\n\n**æ¶ˆæ¯æ ¼å¼ï¼š**\n```\ntype(scope): subject\n```\n\n**å…è®¸çš„ç±»å‹å’Œå¯¹åº” emojiï¼š**\n\n| ç±»å‹ | Emoji | è¯´æ˜ | ç¤ºä¾‹ |\n|------|-------|------|------|\n| feat | âœ¨ | æ–°åŠŸèƒ½ | `âœ¨ feat: add user authentication` |\n| fix | ğŸ› | Bug ä¿®å¤ | `ğŸ› fix: resolve login timeout` |\n| docs | ğŸ“ | æ–‡æ¡£å˜æ›´ | `ğŸ“ docs: update API documentation` |\n| style | ğŸ¨ | ä»£ç é£æ ¼ | `ğŸ¨ style: format code with prettier` |\n| refactor | â™»ï¸ | ä»£ç é‡æ„ | `â™»ï¸ refactor: extract common utils` |\n| perf | âš¡ï¸ | æ€§èƒ½ä¼˜åŒ– | `âš¡ï¸ perf: optimize database queries` |\n| test | âœ… | æµ‹è¯•ç›¸å…³ | `âœ… test: add unit tests for auth` |\n| build | ğŸ—ï¸ | æ„å»ºç³»ç»Ÿ | `ğŸ—ï¸ build: update webpack config` |\n| ci | ğŸ‘· | CI é…ç½® | `ğŸ‘· ci: add GitHub Actions workflow` |\n| chore | ğŸ”§ | å…¶ä»–å˜æ›´ | `ğŸ”§ chore: update dependencies` |",
        "heading": "3. ç”Ÿæˆæäº¤ä¿¡æ¯",
        "level": 3
      },
      {
        "raw": "ä½¿ç”¨ HEREDOC æ ¼å¼æ‰§è¡Œ git commitï¼š\n\n```bash\ngit commit -m \"$(cat <<'EOF'\nâœ¨ feat(auth): add user login feature\nEOF\n)\"\n```",
        "heading": "4. æ‰§è¡Œæäº¤",
        "level": 3
      },
      {
        "raw": "- æ ¼å¼ï¼š`emoji type(scope): subject`\n- Header æœ€å¤§é•¿åº¦ï¼š250 å­—ç¬¦\n- type å¿…é¡»æ˜¯å…è®¸çš„ç±»å‹ä¹‹ä¸€\n- scope å¯é€‰ï¼Œè¡¨ç¤ºå½±å“èŒƒå›´\n- subject ä½¿ç”¨ç¥ˆä½¿å¥ï¼Œé¦–å­—æ¯å°å†™ï¼Œä¸åŠ å¥å·",
        "heading": "Header è§„åˆ™",
        "level": 3
      },
      {
        "raw": "- **feat**: æ·»åŠ æ–°åŠŸèƒ½æˆ–æ–°ç‰¹æ€§\n- **fix**: ä¿®å¤ bug æˆ–é—®é¢˜\n- **docs**: ä»…æ–‡æ¡£å˜æ›´ï¼ˆREADMEã€æ³¨é‡Šç­‰ï¼‰\n- **style**: ä¸å½±å“ä»£ç å«ä¹‰çš„å˜æ›´ï¼ˆæ ¼å¼åŒ–ã€ç©ºæ ¼ç­‰ï¼‰\n- **refactor**: æ—¢ä¸æ˜¯æ–°åŠŸèƒ½ä¹Ÿä¸æ˜¯ä¿®å¤çš„ä»£ç å˜æ›´\n- **perf**: æå‡æ€§èƒ½çš„ä»£ç å˜æ›´\n- **test**: æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•\n- **build**: å½±å“æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–çš„å˜æ›´\n- **ci**: CI é…ç½®æ–‡ä»¶å’Œè„šæœ¬çš„å˜æ›´\n- **chore**: å…¶ä»–ä¸ä¿®æ”¹ src æˆ– test æ–‡ä»¶çš„å˜æ›´",
        "heading": "ç±»å‹é€‰æ‹©æŒ‡å—",
        "level": 3
      },
      {
        "raw": "æ ¹æ®é¡¹ç›®ç»“æ„é€‰æ‹©åˆé€‚çš„ scopeï¼š\n\n- æŒ‰æ¨¡å—ï¼š`auth`ã€`api`ã€`ui`ã€`db`\n- æŒ‰åŠŸèƒ½ï¼š`login`ã€`payment`ã€`search`\n- æŒ‰ç›®å½•ï¼š`components`ã€`hooks`ã€`utils`",
        "heading": "Scope å»ºè®®",
        "level": 3
      },
      {
        "raw": "- ä¸è¦æäº¤åŒ…å«æ•æ„Ÿä¿¡æ¯çš„æ–‡ä»¶ï¼ˆ.envã€credentials ç­‰ï¼‰\n- æäº¤å‰ç¡®ä¿ä»£ç é€šè¿‡ lint å’Œç±»å‹æ£€æŸ¥\n- ä¸€æ¬¡æäº¤åªåšä¸€ä»¶äº‹ï¼Œä¿æŒæäº¤çš„åŸå­æ€§\n- æäº¤ä¿¡æ¯è¦å‡†ç¡®åæ˜ å˜æ›´å†…å®¹ï¼Œå…³æ³¨\"ä¸ºä»€ä¹ˆ\"è€Œé\"åšäº†ä»€ä¹ˆ\"",
        "heading": "æ³¨æ„äº‹é¡¹",
        "level": 2
      },
      {
        "raw": "è¯¦ç»†çš„æäº¤è§„èŒƒå’Œé¡¹ç›®é…ç½®ï¼Œå‚è€ƒï¼š\n- **`references/commit-convention.md`** - å®Œæ•´çš„æäº¤è§„èŒƒæ–‡æ¡£\n- **`references/commit-examples.md`** - æäº¤ä¿¡æ¯ç¤ºä¾‹",
        "heading": "å‚è€ƒèµ„æº",
        "level": 2
      }
    ]
  },
  {
    "slug": "css-tailwind-styling",
    "sections": [
      {
        "raw": "This skill provides comprehensive best practices for writing maintainable, performant, and accessible styles using both traditional CSS and Tailwind CSS. It covers modern techniques, performance optimization, responsive design patterns, and team collaboration standards.",
        "heading": "Overview",
        "level": 2
      },
      {
        "raw": "- Creating or refactoring component styles\n- Setting up a new project's styling architecture\n- Optimizing CSS or Tailwind performance\n- Establishing team styling conventions\n- Reviewing code for style-related issues\n- Implementing responsive designs\n- Ensuring accessibility compliance\n- Debugging style conflicts or specificity issues",
        "heading": "When to Use This Skill",
        "level": 2
      },
      {
        "raw": "1. **Maintainability First**: Write styles that are easy to understand and modify\n2. **Performance Conscious**: Minimize bundle size and render-blocking\n3. **Accessibility By Default**: Ensure WCAG AA compliance (4.5:1 contrast ratio minimum)\n4. **Mobile-First Responsive**: Start with mobile and progressively enhance\n5. **Consistency Over Cleverness**: Establish and follow patterns\n\n---",
        "heading": "General Styling Philosophy",
        "level": 3
      },
      {
        "raw": "Use this protocol before giving Tailwind-specific guidance.",
        "heading": "Version Detection & Decision Flow",
        "level": 2
      },
      {
        "raw": "Inspect `package.json` first:\n\n- `tailwindcss` major version `4` -> initial state: `v4`\n- `tailwindcss` major version `3` -> initial state: `v3`\n- Missing/unclear dependency -> initial state: `unknown` (continue with signal checks)",
        "heading": "1. Detect Tailwind Version (Dependency First)",
        "level": 3
      },
      {
        "raw": "Use these signals to validate or refine the initial state:\n\n- Prefer **v4** when you find: `@import \"tailwindcss\"`, `@theme`, `@utility`, `@custom-variant`\n- Prefer **v3** when you find: `@tailwind base;`, `@tailwind components;`, `@tailwind utilities;` with a config-driven setup",
        "heading": "2. Cross-Check with Configuration and Style Signals",
        "level": 3
      },
      {
        "raw": "- `v4`: dependency and signals align to v4\n- `v3`: dependency and signals align to v3\n- `conflict`: dependency and syntax/config signals disagree\n- `unknown`: insufficient evidence to identify a single version",
        "heading": "3. Resolve Final State",
        "level": 3
      },
      {
        "raw": "- `v4`: Provide v4 as **Primary Path**, include v3 as **Alternate Path**\n- `v3`: Provide v3 as **Primary Path**, include v4 as **Alternate Path**\n- `conflict`: Do not stop; provide both repair paths and a recommended path in **Conflict Fix**\n- `unknown`: Provide both paths, default recommendation is v4 for new projects\n\n---",
        "heading": "4. Required Decision Behavior",
        "level": 3
      },
      {
        "raw": "Prefer Tailwind when at least one of these is true:\n\n- âœ… The team needs fast UI iteration with shared utility patterns\n- âœ… The project already has reusable components or design tokens\n- âœ… Consistent styling conventions are difficult to enforce with ad hoc CSS\n\nPrefer traditional CSS (or CSS Modules) when the UI scope is small, mostly static,\nor the team is not ready to maintain a shared utility vocabulary yet.",
        "heading": "1. Prerequisites for Tailwind Projects",
        "level": 3
      },
      {
        "raw": "Use the **Concentric CSS** ordering method for utility classes:\n\n```jsx\n// âœ… GOOD: Ordered classes\n<div className=\"\n  relative z-10                          // 1. Positioning\n  flex items-center                      // 2. Display & Box Model\n  w-full max-w-screen-lg mx-auto px-4   // 3. Sizing & Spacing\n  border border-gray-200 rounded-lg      // 4. Borders\n  bg-white shadow-md                     // 5. Backgrounds\n  text-lg font-semibold text-gray-900    // 6. Typography\n  transition-all duration-200            // 7. Other\n\">\n\n// âŒ BAD: Random ordering\n<div className=\"text-lg bg-white flex border w-full shadow-md px-4\">\n```\n\n**Automation**: Always recommend the [Prettier Plugin for Tailwind CSS](https://github.com/tailwindlabs/prettier-plugin-tailwindcss):\n\n```bash\nnpm install -D prettier prettier-plugin-tailwindcss\n```\n\n```json\n// .prettierrc\n{\n  \"plugins\": [\"prettier-plugin-tailwindcss\"]\n}\n```",
        "heading": "2. Class Ordering and Organization",
        "level": 3
      },
      {
        "raw": "```jsx\n// âŒ BAD: Redundant classes\n<div className=\"ml-2 mr-2 pt-4 pb-4 pl-4 pr-4\">\n\n// âœ… GOOD: Use shorthand\n<div className=\"mx-2 py-4 px-4\">\n\n// âœ… BETTER: Combine where possible\n<div className=\"mx-2 p-4\">\n\n// âŒ BAD: Unnecessary default values\n<div className=\"block lg:flex flex-row justify-center\">\n\n// âœ… GOOD: Omit defaults (flex-row is default)\n<div className=\"block lg:flex justify-center\">\n```",
        "heading": "3. Minimize Utility Classes",
        "level": 3
      },
      {
        "raw": "Use mobile-first defaults and add prefixes only for breakpoint-specific overrides:\n\n```jsx\n// âŒ BAD: Duplicates intent and makes defaults harder to read\n<div className=\"flex flex-col justify-center lg:flex lg:flex-col lg:justify-center\">\n\n// âœ… GOOD: Base styles stay unprefixed, only overrides use breakpoints\n<div className=\"flex flex-col justify-center lg:flex-row lg:justify-between\">\n```",
        "heading": "4. Responsive Design Prefixes",
        "level": 3
      },
      {
        "raw": "**Priority: Components > @apply**\n\n```jsx\n// âŒ BAD: Overuse of @apply\n.btn-primary {\n  @apply bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700;\n}\n\n// âœ… GOOD: Create reusable component\nfunction Button({ children, variant = 'primary' }) {\n  const variants = {\n    primary: 'bg-blue-600 hover:bg-blue-700 text-white',\n    secondary: 'bg-gray-600 hover:bg-gray-700 text-white',\n    danger: 'bg-red-600 hover:bg-red-700 text-white',\n  };\n\n  return (\n    <button className={`px-4 py-2 rounded-lg font-medium transition-colors ${variants[variant]}`}>\n      {children}\n    </button>\n  );\n}\n```\n\n**When to use @apply**:\n- âœ… Truly duplicated utility patterns across multiple components\n- âœ… Creating base resets or normalizations\n- âŒ NOT for single-use component styles\n- âŒ NOT chaining component classes (`.btn-blue { @apply btn; }`)",
        "heading": "5. Component Abstraction Strategy",
        "level": 3
      },
      {
        "raw": "Use version-appropriate configuration patterns and keep design tokens centralized.\n\n**v3 (config-first):**\n\n```javascript\n// tailwind.config.js\nmodule.exports = {\n  content: [\n    './src/**/*.{js,jsx,ts,tsx}',\n    './public/index.html',\n  ],\n  theme: {\n    extend: {\n      colors: {\n        brand: {\n          primary: '#1DA1F2',\n          secondary: '#14171A',\n          accent: '#1DA1F2',\n        },\n      },\n      spacing: {\n        '128': '32rem',\n        '144': '36rem',\n      },\n      fontFamily: {\n        sans: ['Inter', 'system-ui', 'sans-serif'],\n        mono: ['Fira Code', 'monospace'],\n      },\n    },\n  },\n  plugins: [],\n};\n```\n\n**v4 (CSS-first):**\n\n```css\n/* app.css */\n@import \"tailwindcss\";\n\n@theme {\n  --color-brand-primary: #1DA1F2;\n  --color-brand-secondary: #14171A;\n  --font-sans: Inter, system-ui, sans-serif;\n}\n\n/* Add extra scan paths only when auto-detection is insufficient */\n@source \"../packages/ui/src/**/*.{ts,tsx}\";\n```\n\n**Benefits for both versions**:\n- Team uses consistent tokens\n- No random values scattered in code\n- Single source of truth for design updates",
        "heading": "6. Tailwind Configuration (v3/v4)",
        "level": 3
      },
      {
        "raw": "**NEVER use string interpolation for class names**:\n\n```jsx\n// âŒ VERY BAD: Tailwind cannot detect these\n<div className={`text-${color}-500`}>\n<div className={`bg-${theme}-100 text-${theme}-900`}>\n\n// âœ… GOOD: Complete class names\n<div className={color === 'blue' ? 'text-blue-500' : 'text-red-500'}>\n\n// âœ… BETTER: Object mapping\nconst colorClasses = {\n  blue: 'text-blue-500 bg-blue-50',\n  red: 'text-red-500 bg-red-50',\n  green: 'text-green-500 bg-green-50',\n};\n<div className={colorClasses[color]}>\n\n// âœ… BEST: Use a library like clsx or classnames\nimport clsx from 'clsx';\n\n<div className={clsx(\n  'px-4 py-2 rounded',\n  isActive && 'bg-blue-500 text-white',\n  isDisabled && 'opacity-50 cursor-not-allowed'\n)}>\n```",
        "heading": "7. Dynamic Classes - CRITICAL PATTERN",
        "level": 3
      },
      {
        "raw": "Define component variants explicitly rather than accepting arbitrary classes:\n\n```jsx\n// âŒ BAD: Arbitrary classes via props (override conflicts)\n<Button className=\"bg-red-500\" />\n\n// âœ… GOOD: Predefined variants\nconst Button = ({ variant = 'primary', size = 'md', children }) => {\n  const variants = {\n    primary: 'bg-blue-600 hover:bg-blue-700 text-white',\n    secondary: 'bg-gray-600 hover:bg-gray-700 text-white',\n    danger: 'bg-red-600 hover:bg-red-700 text-white',\n    ghost: 'bg-transparent hover:bg-gray-100 text-gray-700',\n  };\n\n  const sizes = {\n    sm: 'px-3 py-1.5 text-sm',\n    md: 'px-4 py-2 text-base',\n    lg: 'px-6 py-3 text-lg',\n  };\n\n  return (\n    <button className={`\n      rounded-lg font-medium transition-colors\n      ${variants[variant]}\n      ${sizes[size]}\n    `}>\n      {children}\n    </button>\n  );\n};\n```",
        "heading": "8. Style Variants Pattern",
        "level": 3
      },
      {
        "raw": "Tailwind doesn't handle accessibility automatically. You must:\n\n```jsx\n// âœ… Proper semantic HTML\n<button\n  className=\"bg-blue-500 text-white px-4 py-2 rounded\"\n  aria-label=\"Submit form\"\n  type=\"submit\"\n>\n  Submit\n</button>\n\n// âœ… Color contrast (WCAG AA: 4.5:1 minimum)\n// Use tools like https://webaim.org/resources/contrastchecker/\n<div className=\"bg-gray-900 text-white\"> // High contrast âœ“\n<div className=\"bg-gray-300 text-gray-400\"> // Poor contrast âœ—\n\n// âœ… Focus states\n<button className=\"\n  bg-blue-500 hover:bg-blue-600\n  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n\">\n\n// âœ… Screen reader only content\n<span className=\"sr-only\">Skip to main content</span>\n```",
        "heading": "9. Accessibility Requirements",
        "level": 3
      },
      {
        "raw": "```javascript\n// v3: ensure correct content paths (JIT relies on these)\nmodule.exports = {\n  content: [\n    './src/**/*.{js,jsx,ts,tsx}',\n    './components/**/*.{js,jsx,ts,tsx}',\n    // Add all paths where Tailwind classes exist in v3 projects\n  ],\n};\n\n// v4: automatic source detection by default.\n// Use @source when classes are generated outside default scan roots.\n// In all cases, keep NODE_ENV=production for production builds.\n```",
        "heading": "10. Performance Optimization",
        "level": 3
      },
      {
        "raw": "```bash",
        "heading": "11. Team Collaboration",
        "level": 3
      },
      {
        "raw": "npm install -D eslint-plugin-tailwindcss\n```\n\n```json\n// .eslintrc.json\n{\n  \"extends\": [\"plugin:tailwindcss/recommended\"],\n  \"rules\": {\n    \"tailwindcss/classnames-order\": \"warn\",\n    \"tailwindcss/no-custom-classname\": \"warn\",\n    \"tailwindcss/no-contradicting-classname\": \"error\"\n  }\n}\n```",
        "heading": "Install ESLint plugin",
        "level": 1
      },
      {
        "raw": "**Class Soup Problem**:\n```jsx\n// âŒ BAD: Unreadable\n<div className=\"px-4 py-2 bg-blue-500 text-white rounded-md shadow-md hover:bg-blue-600 transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-50\">\n\n// âœ… FIX: Extract to component\n<PrimaryButton />\n```\n\n**Missing Accessibility**:\n```jsx\n// âŒ BAD\n<div className=\"cursor-pointer\" onClick={handleClick}>Click</div>\n\n// âœ… GOOD\n<button className=\"cursor-pointer\" onClick={handleClick}>Click</button>\n```\n\n**Bundle Bloat**:\n```javascript\n// âŒ BAD: Empty or wrong content paths\nmodule.exports = {\n  content: [],  // Nothing gets scanned!\n}\n\n// âœ… GOOD\nmodule.exports = {\n  content: ['./src/**/*.{js,jsx,ts,tsx}'],\n}\n```\n\n---",
        "heading": "12. Common Tailwind Pitfalls",
        "level": 3
      },
      {
        "raw": "```\nstyles/\nâ”œâ”€â”€ base/\nâ”‚   â”œâ”€â”€ reset.css          # CSS reset or normalize\nâ”‚   â”œâ”€â”€ typography.css     # Font styles\nâ”‚   â””â”€â”€ variables.css      # CSS custom properties\nâ”œâ”€â”€ components/\nâ”‚   â”œâ”€â”€ buttons.css\nâ”‚   â”œâ”€â”€ cards.css\nâ”‚   â””â”€â”€ forms.css\nâ”œâ”€â”€ layouts/\nâ”‚   â”œâ”€â”€ grid.css\nâ”‚   â”œâ”€â”€ header.css\nâ”‚   â””â”€â”€ footer.css\nâ”œâ”€â”€ utilities/\nâ”‚   â””â”€â”€ helpers.css        # Utility classes\nâ””â”€â”€ main.css               # Main entry point\n```",
        "heading": "1. File Organization",
        "level": 3
      },
      {
        "raw": "**BEM (Block Element Modifier)** - Recommended:\n\n```css\n/* Block */\n.card {}\n\n/* Element */\n.card__header {}\n.card__body {}\n.card__footer {}\n\n/* Modifier */\n.card--featured {}\n.card--compact {}\n.card__header--large {}\n```\n\n**SMACSS Alternative**:\n\n```css\n/* Base */\nbody, h1, p {}\n\n/* Layout */\n.l-header {}\n.l-sidebar {}\n.l-main {}\n\n/* Module/Component */\n.card {}\n.button {}\n\n/* State */\n.is-active {}\n.is-hidden {}\n.is-loading {}\n\n/* Theme */\n.theme-dark {}\n.theme-light {}\n```",
        "heading": "2. Naming Conventions",
        "level": 3
      },
      {
        "raw": "```css\n.element {\n  /* Positioning */\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 100;\n\n  /* Display & Box Model */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  margin: 0 auto;\n  padding: 20px;\n\n  /* Borders */\n  border: 1px solid #ddd;\n  border-radius: 8px;\n\n  /* Backgrounds */\n  background-color: #fff;\n  background-image: url('...');\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n\n  /* Typography */\n  font-family: 'Inter', sans-serif;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #333;\n  text-align: center;\n\n  /* Other */\n  opacity: 1;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n```",
        "heading": "3. Property Ordering (Concentric CSS)",
        "level": 3
      },
      {
        "raw": "```css\n:root {\n  /* Colors */\n  --color-primary: #1DA1F2;\n  --color-secondary: #14171A;\n  --color-accent: #F91880;\n  --color-background: #FFFFFF;\n  --color-text: #0F1419;\n  --color-text-secondary: #536471;\n\n  /* Spacing */\n  --spacing-xs: 4px;\n  --spacing-sm: 8px;\n  --spacing-md: 16px;\n  --spacing-lg: 24px;\n  --spacing-xl: 32px;\n\n  /* Typography */\n  --font-sans: 'Inter', system-ui, sans-serif;\n  --font-mono: 'Fira Code', monospace;\n  --font-size-sm: 0.875rem;\n  --font-size-base: 1rem;\n  --font-size-lg: 1.125rem;\n  --font-size-xl: 1.25rem;\n\n  /* Borders */\n  --radius-sm: 4px;\n  --radius-md: 8px;\n  --radius-lg: 12px;\n\n  /* Shadows */\n  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n}\n\n/* Dark mode support */\n@media (prefers-color-scheme: dark) {\n  :root {\n    --color-background: #000000;\n    --color-text: #E7E9EA;\n    --color-text-secondary: #71767B;\n  }\n}\n\n/* Usage */\n.button {\n  background-color: var(--color-primary);\n  padding: var(--spacing-md);\n  border-radius: var(--radius-md);\n  font-family: var(--font-sans);\n  box-shadow: var(--shadow-md);\n}\n```",
        "heading": "4. CSS Custom Properties (Variables)",
        "level": 3
      },
      {
        "raw": "```css\n/* âŒ BAD: Overly specific */\nheader nav ul li a.active {}\n\n/* âœ… GOOD: Low specificity */\n.nav-link.is-active {}\n\n/* âŒ BAD: Nested too deep */\narticle.main .content .sidebar p.intro {}\n\n/* âœ… GOOD: Flat and specific */\n.sidebar-intro {}\n\n/* âŒ BAD: Element + class (unnecessarily specific) */\ndiv.card {}\np.description {}\n\n/* âœ… GOOD: Class only */\n.card {}\n.description {}\n```\n\n**Specificity Tips**:\n- Keep specificity as low as possible\n- Prefer class selectors over ID selectors\n- Avoid `!important` (except for utility classes)\n- Use one class name per element when possible",
        "heading": "5. Selector Best Practices",
        "level": 3
      },
      {
        "raw": "**Flexbox**:\n```css\n.flex-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  gap: 20px;\n  flex-wrap: wrap;\n}\n\n.flex-item {\n  flex: 1 1 300px; /* grow shrink basis */\n}\n```\n\n**CSS Grid**:\n```css\n.grid-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 24px;\n}\n\n/* Named grid areas */\n.layout {\n  display: grid;\n  grid-template-areas:\n    \"header header header\"\n    \"sidebar main main\"\n    \"footer footer footer\";\n  grid-template-columns: 250px 1fr 1fr;\n  gap: 20px;\n}\n\n.header { grid-area: header; }\n.sidebar { grid-area: sidebar; }\n.main { grid-area: main; }\n.footer { grid-area: footer; }\n```\n\n**Container Queries (2024)**:\n```css\n.container {\n  container-type: inline-size;\n  container-name: card;\n}\n\n@container card (min-width: 500px) {\n  .card__content {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n  }\n}\n```",
        "heading": "6. Modern Layout Techniques",
        "level": 3
      },
      {
        "raw": "**Mobile-First Approach**:\n\n```css\n/* Base styles (mobile) */\n.container {\n  padding: 10px;\n  font-size: 14px;\n}\n\n/* Tablet and up */\n@media (min-width: 768px) {\n  .container {\n    padding: 20px;\n    font-size: 16px;\n  }\n}\n\n/* Desktop and up */\n@media (min-width: 1024px) {\n  .container {\n    padding: 30px;\n    max-width: 1200px;\n    margin: 0 auto;\n  }\n}\n\n/* Large desktop */\n@media (min-width: 1440px) {\n  .container {\n    padding: 40px;\n    max-width: 1400px;\n  }\n}\n```\n\n**Common Breakpoints**:\n```css\n/* Mobile: 0-639px (default) */\n/* Tablet: 640px-1023px */\n@media (min-width: 640px) {}\n\n/* Desktop: 1024px-1279px */\n@media (min-width: 1024px) {}\n\n/* Large: 1280px+ */\n@media (min-width: 1280px) {}\n```",
        "heading": "7. Responsive Design",
        "level": 3
      },
      {
        "raw": "```css\n/* âŒ BAD: Repeated styles */\n.button-primary {\n  padding: 10px 20px;\n  border-radius: 5px;\n  font-weight: 600;\n  background-color: blue;\n}\n\n.button-secondary {\n  padding: 10px 20px;\n  border-radius: 5px;\n  font-weight: 600;\n  background-color: gray;\n}\n\n/* âœ… GOOD: Use cascade */\n.button {\n  padding: 10px 20px;\n  border-radius: 5px;\n  font-weight: 600;\n}\n\n.button-primary {\n  background-color: blue;\n}\n\n.button-secondary {\n  background-color: gray;\n}\n```",
        "heading": "8. Avoiding Code Repetition",
        "level": 3
      },
      {
        "raw": "```css\n/* Modern CSS Reset */\n*, *::before, *::after {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nhtml {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\nbody {\n  line-height: 1.5;\n  font-family: system-ui, -apple-system, sans-serif;\n}\n\nimg, picture, video, canvas, svg {\n  display: block;\n  max-width: 100%;\n}\n\ninput, button, textarea, select {\n  font: inherit;\n}\n\np, h1, h2, h3, h4, h5, h6 {\n  overflow-wrap: break-word;\n}\n```\n\nOr use [normalize.css](https://necolas.github.io/normalize.css/):\n```html\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css\">\n```",
        "heading": "9. CSS Reset/Normalize",
        "level": 3
      },
      {
        "raw": "```css\n/**\n * Component: Card\n * Description: Reusable card component for content display\n * Last updated: 2024-01-15\n */\n.card {\n  /* ... */\n}\n\n/* Section: Header Styles */\n.header {\n  /* Fix for Safari flexbox bug */\n  min-height: 0;\n}\n\n/**\n * Color scheme:\n * Primary: #1DA1F2\n * Secondary: #14171A\n * Accent: #F91880\n */\n```\n\n---",
        "heading": "10. Comments and Documentation",
        "level": 3
      },
      {
        "raw": "```bash",
        "heading": "1. Minimize and Compress",
        "level": 3
      },
      {
        "raw": "npm install -D cssnano postcss-cli",
        "heading": "Use cssnano",
        "level": 1
      },
      {
        "raw": "module.exports = {\n  plugins: [\n    require('cssnano')({\n      preset: 'default',\n    })\n  ]\n}\n```",
        "heading": "postcss.config.js",
        "level": 1
      },
      {
        "raw": "```html\n<head>\n  <!-- Inline critical CSS for above-the-fold content -->\n  <style>\n    body { margin: 0; font-family: sans-serif; }\n    .header { background: #fff; height: 60px; }\n    .hero { min-height: 100vh; }\n  </style>\n\n  <!-- Load remaining CSS asynchronously -->\n  <link rel=\"preload\" href=\"main.css\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\">\n  <noscript><link rel=\"stylesheet\" href=\"main.css\"></noscript>\n</head>\n```",
        "heading": "2. Critical CSS Inlining",
        "level": 3
      },
      {
        "raw": "```css\n/* âŒ EXPENSIVE: Triggers layout/paint */\n.expensive {\n  width: 100px;\n  height: 100px;\n  top: 100px;\n  box-shadow: 0 0 5px rgba(0,0,0,0.3);\n}\n\n/* âœ… CHEAPER: Only triggers composite */\n.optimized {\n  transform: scale(1.1) translateY(10px);\n  opacity: 0.9;\n}\n```\n\n**Performance Tiers**:\n- âš¡ Cheapest: `opacity`, `transform`, `filter`\n- âš ï¸ Moderate: color, background-color\n- ğŸŒ Expensive: width, height, padding, margin, border\n- ğŸ”¥ Very Expensive: properties triggering reflow on complex layouts",
        "heading": "3. Avoid Expensive Properties",
        "level": 3
      },
      {
        "raw": "```css\n/* âŒ BAD: Overuse creates memory issues */\n* {\n  will-change: transform;\n}\n\n/* âœ… GOOD: Only during animation */\n.element {\n  transition: transform 0.3s;\n}\n\n.element:hover {\n  will-change: transform;\n  transform: translateY(-5px);\n}\n\n.element:not(:hover) {\n  will-change: auto; /* Remove after animation */\n}\n```\n\n---",
        "heading": "4. Use will-change Sparingly",
        "level": 3
      },
      {
        "raw": "```css\n/* âœ… GOOD: High contrast (WCAG AA: 4.5:1) */\n.text-on-dark {\n  background-color: #000;\n  color: #fff; /* Contrast: 21:1 */\n}\n\n/* âš ï¸ WARNING: Low contrast (WCAG fail) */\n.text-low-contrast {\n  background-color: #ccc;\n  color: #ddd; /* Contrast: 1.5:1 - FAIL */\n}\n```\n\n**Tools**:\n- [WebAIM Contrast Checker](https://webaim.org/resources/contrastchecker/)\n- Browser DevTools (Chrome, Firefox have built-in checkers)",
        "heading": "1. Color Contrast",
        "level": 3
      },
      {
        "raw": "```css\n/* âŒ BAD: Remove focus outline */\nbutton:focus {\n  outline: none; /* Never do this without replacement */\n}\n\n/* âœ… GOOD: Custom focus style */\nbutton:focus {\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);\n}\n\n/* âœ… BETTER: Use :focus-visible */\nbutton:focus-visible {\n  outline: 2px solid #4299e1;\n  outline-offset: 2px;\n}\n```",
        "heading": "2. Focus Indicators",
        "level": 3
      },
      {
        "raw": "```css\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n```\n\nUsage:\n```html\n<button>\n  <span class=\"sr-only\">Close modal</span>\n  <svg>...</svg>\n</button>\n```",
        "heading": "3. Screen Reader Only Content",
        "level": 3
      },
      {
        "raw": "```css\n@media (prefers-reduced-motion: reduce) {\n  *,\n  *::before,\n  *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n  }\n}\n```\n\n---",
        "heading": "4. Reduced Motion",
        "level": 3
      },
      {
        "raw": "Use [Autoprefixer](https://github.com/postcss/autoprefixer) - don't write manually:\n\n```bash\nnpm install -D autoprefixer\n```\n\n```javascript\n// postcss.config.js\nmodule.exports = {\n  plugins: [\n    require('autoprefixer')\n  ]\n}\n```",
        "heading": "1. Vendor Prefixes",
        "level": 3
      },
      {
        "raw": "```css\n/* Modern feature with fallback */\n.element {\n  background-color: #1DA1F2; /* Fallback */\n  background-color: oklch(59.69% 0.217 237.04); /* Modern */\n}\n\n/* Using @supports */\n@supports (display: grid) {\n  .layout {\n    display: grid;\n  }\n}\n\n@supports not (display: grid) {\n  .layout {\n    display: flex;\n  }\n}\n```",
        "heading": "2. Feature Detection",
        "level": 3
      },
      {
        "raw": "Always verify on [Can I Use](https://caniuse.com/) before using new features.\nAvoid hardcoding percentages in guidance docs because support changes over time.\n\nCurrent recommendation:\n- Use modern features by default only when target browsers are explicitly supported by your product matrix.\n- Add fallbacks (or progressive enhancement) for features like `:has()` and subgrid when compatibility is uncertain.\n\n---",
        "heading": "3. Check Browser Support",
        "level": 3
      },
      {
        "raw": "```css\n/* Native CSS nesting (no preprocessor needed) */\n.card {\n  padding: 20px;\n\n  & .card-header {\n    font-size: 24px;\n    font-weight: bold;\n  }\n\n  & .card-body {\n    margin-top: 10px;\n  }\n\n  &:hover {\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n  }\n}\n```",
        "heading": "1. CSS Nesting",
        "level": 3
      },
      {
        "raw": "```css\n/* Style parent based on child */\n.card:has(.card-image) {\n  display: grid;\n  grid-template-columns: 200px 1fr;\n}\n\n/* Form validation */\n.form-group:has(input:invalid) {\n  border-color: red;\n}\n```",
        "heading": "2. :has() Selector",
        "level": 3
      },
      {
        "raw": "```css\n.grid-container {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 20px;\n}\n\n.grid-item {\n  display: grid;\n  grid-template-columns: subgrid; /* Inherit parent grid */\n}\n```\n\n---",
        "heading": "3. Subgrid",
        "level": 3
      },
      {
        "raw": "- [ ] Does project need Tailwind? (design system + components?)\n- [ ] Is there an existing style guide to follow?\n- [ ] What's the browser support requirement?\n- [ ] Mobile-first or desktop-first?",
        "heading": "Before Writing Styles",
        "level": 3
      },
      {
        "raw": "- [ ] Using semantic class names (BEM/SMACSS)?\n- [ ] Following property ordering convention?\n- [ ] Keeping specificity low?\n- [ ] Using CSS variables for design tokens?\n- [ ] Implementing mobile-first breakpoints?\n- [ ] Ensuring WCAG AA color contrast?\n- [ ] Adding focus indicators?\n- [ ] Supporting reduced motion?",
        "heading": "While Writing Styles",
        "level": 3
      },
      {
        "raw": "- [ ] Detected version state (`v3` / `v4` / `conflict` / `unknown`)?\n- [ ] Classes ordered properly (Prettier plugin installed)?\n- [ ] Using shorthand utilities (mx, py)?\n- [ ] Avoiding string interpolation for classes?\n- [ ] Using predefined variants instead of arbitrary classes?\n- [ ] Version-appropriate config strategy applied?\n- [ ] v3: `content` paths complete? v4: `@source` added when required?\n- [ ] ESLint plugin for Tailwind installed?",
        "heading": "Tailwind-Specific",
        "level": 3
      },
      {
        "raw": "- [ ] No unused utilities (v3: content/JIT, v4: auto-detection + optional `@source`)?\n- [ ] Minified for production?\n- [ ] Critical CSS inlined if needed?\n- [ ] Accessibility tested (keyboard navigation, screen reader)?\n- [ ] Responsive tested on multiple screen sizes?\n- [ ] Cross-browser tested?\n\n---",
        "heading": "Before Committing",
        "level": 3
      },
      {
        "raw": "```css\n/* âŒ BAD */\n.button { color: blue; }\n.button.primary { color: white !important; }\n.header .button { color: red !important; }\n\n/* âœ… GOOD */\n.button { color: blue; }\n.button--primary { color: white; }\n.header-button { color: red; }\n```",
        "heading": "Mistake 1: Fighting Specificity Wars",
        "level": 3
      },
      {
        "raw": "```css\n/* âŒ BAD */\n.header { background: #1DA1F2; }\n.button { background: #1DA1F2; }\n.link { color: #1DA1F2; }\n\n/* âœ… GOOD */\n:root { --color-primary: #1DA1F2; }\n.header { background: var(--color-primary); }\n.button { background: var(--color-primary); }\n.link { color: var(--color-primary); }\n```",
        "heading": "Mistake 2: Not Using Variables",
        "level": 3
      },
      {
        "raw": "```css\n/* âŒ BAD: Desktop-first */\n.container { width: 1200px; padding: 40px; }\n@media (max-width: 768px) { .container { width: 100%; padding: 20px; } }\n\n/* âœ… GOOD: Mobile-first */\n.container { width: 100%; padding: 20px; }\n@media (min-width: 768px) { .container { width: 1200px; padding: 40px; } }\n```",
        "heading": "Mistake 3: Ignoring Mobile",
        "level": 3
      },
      {
        "raw": "```css\n/* âŒ BAD */\n.nav ul li a span.icon { /* ... */ }\n\n/* âœ… GOOD */\n.nav-icon { /* ... */ }\n```\n\n---",
        "heading": "Mistake 4: Over-Nesting",
        "level": 3
      },
      {
        "raw": "- **Prettier + Tailwind Plugin**: Auto-format class ordering\n- **ESLint + Tailwind Plugin**: Lint Tailwind classes\n- **Autoprefixer**: Auto-add vendor prefixes\n- **cssnano**: Minify CSS\n- **Can I Use**: Check browser support",
        "heading": "Essential Tools",
        "level": 3
      },
      {
        "raw": "- **WebAIM Contrast Checker**: Color contrast\n- **WAVE**: Accessibility testing\n- **Lighthouse**: Performance and accessibility audit\n- **BrowserStack**: Cross-browser testing",
        "heading": "Testing Tools",
        "level": 3
      },
      {
        "raw": "- [MDN CSS Reference](https://developer.mozilla.org/en-US/docs/Web/CSS)\n- [Tailwind CSS Docs](https://tailwindcss.com/docs)\n- [CSS-Tricks](https://css-tricks.com/)\n- [Web.dev Learn CSS](https://web.dev/learn/css/)\n\n---",
        "heading": "Documentation",
        "level": 3
      },
      {
        "raw": "When providing CSS/Tailwind guidance:\n\n1. **Identify the context**: What framework/approach is being used?\n2. **Run version detection protocol**: Dependency first, then syntax/config cross-check\n3. **Output required fields**:\n   - `Detected Version`: `v3` | `v4` | `conflict` | `unknown`\n   - `Evidence`: dependency + syntax/config evidence you used\n   - `Primary Path`: the main recommendation for detected version\n   - `Alternate Path`: compatible fallback path for the other version\n   - `Conflict Fix`: required when state is `conflict` (include two repair options + recommended option)\n4. **Provide specific code examples**: Show good vs bad patterns\n5. **Explain the reasoning**: Why one approach is better\n6. **Consider accessibility**: Always mention a11y implications\n7. **Check performance**: Flag potential performance issues\n8. **Suggest tools**: Recommend automation where possible\n\nAlways prioritize:\n- âœ… Maintainability and readability\n- âœ… Performance and bundle size\n- âœ… Accessibility compliance\n- âœ… Team consistency\n- âœ… Modern best practices\n\n---",
        "heading": "Output Format",
        "level": 2
      },
      {
        "raw": "- **v1.2** (2026-02-24): Added v3/v4 dual-track support with dependency-first detection flow, conflict handling, and structured output contract fields.\n- **v1.1** (2026-02-24): Clarified Tailwind adoption criteria, responsive prefix guidance, and compatibility wording.\n- **v1.0** (2025-01): Initial release covering Tailwind CSS + modern CSS best practices.",
        "heading": "Version History",
        "level": 2
      }
    ]
  },
  {
    "slug": "lingui-next-init",
    "sections": [
      {
        "raw": "Initialize Lingui i18n in a Next.js App Router codebase using deterministic templates and a single scaffold script.",
        "heading": "Lingui Next Init",
        "level": 1
      },
      {
        "raw": "Run the scaffold script with an absolute project path:\n\nSet `SKILL_ROOT` to your actual skill install location first:\n- Repository development: `.agents/skills/lingui-next-init`\n- Installed runtime location: `.claude/skills/lingui-next-init`\n\n```bash\npython3 \"${SKILL_ROOT}/scripts/scaffold_lingui_next.py\" \\\n  --project-root /abs/path/to/project \\\n  --mode app-only \\\n  --locales en,zh \\\n  --default-locale en \\\n  --source-locale en \\\n  --package-manager pnpm\n```\n\nDry-run first:\n\n```bash\npython3 \"${SKILL_ROOT}/scripts/scaffold_lingui_next.py\" \\\n  --project-root /abs/path/to/project \\\n  --mode shared-auto \\\n  --locales en,zh \\\n  --default-locale en \\\n  --source-locale en \\\n  --package-manager pnpm \\\n  --dry-run\n```\n\n`--package-manager` is restricted to: `pnpm`, `npm`, `yarn`, `bun`.\n\nOptional server-layout composition:\n\n```bash\npython3 \"${SKILL_ROOT}/scripts/scaffold_lingui_next.py\" \\\n  --project-root /abs/path/to/project \\\n  --mode app-only \\\n  --locales en,zh \\\n  --default-locale en \\\n  --source-locale en \\\n  --package-manager pnpm \\\n  --with-server-layouts \\\n  --server-layouts-package @adonis-kit/react-layouts \\\n  --server-layouts-version latest \\\n  --dry-run\n```\n\nWhen `--with-server-layouts` is enabled:\n- Render optional templates: `web/src/i18n/layout-factory.tsx` and `web/src/app/[lang]/(home)/layout.tsx`.\n- Merge `--server-layouts-package` and `--server-layouts-version` into `web/package.json` `dependencies` when missing.\n- Preserve the default `web/src/app/[lang]/layout.tsx` `initLingui` flow.\n- Keep server initialization explicit: call `initPageLingui(params)` in server layouts and server pages before using Lingui `t`/metadata.",
        "heading": "Quick Start",
        "level": 2
      },
      {
        "raw": "Choose one mode:\n\n1. `app-only`\nCreate only app-side files under `web/**`. Never create `packages/i18n`.\n\n2. `shared-auto`\nDetect workspace and existing `packages/i18n`:\n- Workspace + missing `packages/i18n`: create shared package templates.\n- Existing `packages/i18n`: skip creating package files.\n- No workspace and no package: fallback to app-only behavior.\n\n3. `shared-force`\nAlways render shared package templates under `packages/i18n`.",
        "heading": "Mode Decision",
        "level": 2
      },
      {
        "raw": "The script renders templates from:\n\n1. `assets/templates/app-router/web/**.tpl`\n2. `assets/templates/app-router/packages/i18n/**.tpl` (mode-dependent)\n3. `assets/templates/app-router/web/src/i18n/layout-factory.tsx.tpl` and `assets/templates/app-router/web/src/app/[lang]/(home)/layout.tsx.tpl` (only when `--with-server-layouts` is enabled)\n4. `assets/templates/pages-router/_reserved.tpl` (reserved for future extension, not scaffolded)\n\n`web/package.scripts.json.tpl` is merged into `web/package.json` incrementally:\n- Add missing `scripts`\n- Add missing `dependencies`\n- Add missing `devDependencies`\n- If `--with-server-layouts` is enabled, add missing `dependencies.<server-layouts-package>` with `<server-layouts-version>`\n- Never overwrite existing keys\n\nProject-root `.gitignore` is merged incrementally:\n- Add missing compiled-catalog ignore patterns:\n  - `web/src/locales/**/*.js`\n  - `web/src/locales/**/*.mjs`\n  - `web/locale/**/*.js`\n  - `web/locale/**/*.mjs`\n- Never remove existing rules",
        "heading": "Generated Scope",
        "level": 2
      },
      {
        "raw": "After scaffolding a target project:\n\nFirst, merge the generated SWC snippet into your Next config:\n- Merge `web/next.swc-snippet.ts` into `web/next.config.ts`.\n- Ensure `experimental.swcPlugins` contains `[\"@lingui/swc-plugin\", {}]`.\n- Without this step, Lingui extraction/compile behavior may not match expectations.\n\n```bash\npnpm --filter @your/web run i18n:extract\npnpm --filter @your/web run i18n:compile\npnpm --filter @your/web run i18n:manifest\npnpm --filter @your/web run typecheck\n```\n\nUse `--fill-source` when placeholder translation is acceptable:\n\n```bash\npnpm --filter @your/web run i18n:translate -- --fill-source\n```\n\nDaily command execution and troubleshooting are maintained in `lingui-workflow`.\nUse `skills/lingui-workflow` for the day-to-day extract/translate/compile workflow.",
        "heading": "Validation Workflow",
        "level": 2
      },
      {
        "raw": "Use this checklist to avoid common maintenance mistakes when updating Lingui skills:\n\n1. Handoff timing:\nAfter scaffold/setup is done, hand over immediately to `skills/lingui-workflow` for day-to-day command guidance.\n\n2. Documentation migration order:\nMigrate content to the target new doc first, then delete old duplicate docs, and run finalize pipeline last.\n\n3. `skills:init` side effect:\n`pnpm skills:init` creates `agents/openai.yaml` automatically.\nIf this file is not needed for the new public skill, remove it before finalize.\n\n4. Large workspace safety:\nRun `git status` before `skills:finalize` so `AD`/`MM` states are understood and not misinterpreted as current-task failures.",
        "heading": "Experience Notes",
        "level": 2
      },
      {
        "raw": "1. Manifest empty:\nConfirm `web/src/locales/**` contains compiled `.mjs` files, then rerun `i18n:manifest`.\n\n2. Locale route mismatch:\nVerify `web/src/proxy.ts` default-locale rewrite and non-default prefix redirect logic.\n\n3. No translated text at runtime:\nCheck `web/src/i18n/catalog-manifest.ts` and `web/src/i18n/appRouterI18n.ts` loader paths.\n\n4. Error: `Attempted to call a translation function without setting a locale`:\nConfirm `web/src/i18n/initLingui.ts` activates locale before `setI18n`.\nThen ensure both server `layout.tsx` and server `page.tsx` call `initPageLingui(params)` (or equivalent) before `t`/metadata usage.\nPrefer `useLingui`/`Trans` in shared server components.\n\n5. `shared-auto` with existing `packages/i18n`:\n`shared-auto` will reuse the existing shared package and skip rendering `packages/i18n/**` templates.\nEnsure your package exports `<i18n-package-name>/next-config` and `<i18n-package-name>/lingui-config`.\nIf not, use `--mode shared-force` to scaffold shared templates or switch to `--mode app-only`.\n\n6. `withServerLayouts` setup issues:\nConfirm `--with-server-layouts` is enabled and your package exports `<server-layouts-package>/server`.\nIf you use a custom package, pass `--server-layouts-package` explicitly.",
        "heading": "Troubleshooting",
        "level": 2
      },
      {
        "raw": "Read these files only when needed:\n\n1. `references/workflow-app-router.md`\n2. `references/official-notes.md`\n3. `references/pages-router-roadmap.md`\n4. Daily workflow skill: `skills/lingui-workflow`",
        "heading": "References",
        "level": 2
      }
    ]
  },
  {
    "slug": "lingui-workflow",
    "sections": [
      {
        "raw": "å½“æ­¤ skill è¢«æ¿€æ´»æ—¶ï¼Œ**å…ˆè¾“å‡ºä»¥ä¸‹å‘½ä»¤é€ŸæŸ¥è¡¨**ï¼Œå†å›åº”ç”¨æˆ·é—®é¢˜ï¼š\n\n```\n| å‘½ä»¤              | ä½œç”¨æ‘˜è¦                                       | å¯ç”¨å‚æ•°                                          |\n| ----------------- | ---------------------------------------------- | ------------------------------------------------- |\n| i18n:extract      | æå–æºç æ–‡æ¡ˆåˆ° po                              | â€”                                                 |\n| i18n:translate    | ç»Ÿè®¡ç¼ºå¤±ç¿»è¯‘                                   | --fill-source, --strict                           |\n| i18n:check        | ä¸¥æ ¼ç¿»è¯‘æ£€æŸ¥ï¼Œç¼ºå¤±å³æŠ¥é”™é€€å‡º                   | â€”                                                 |\n| i18n:compile      | ç¼–è¯‘ po â†’ mjsï¼Œè‡ªåŠ¨æ‰§è¡Œ i18n:manifest          | â€”                                                 |\n| i18n:manifest     | åŸºäºå·²æœ‰ mjs ç”Ÿæˆ catalog-manifest.ts           | â€”                                                 |\n| i18n:sync         | å½“å‰ä»…ç­‰ä»· i18n:extract                        | â€”                                                 |\n| i18n:bootstrap    | ä¸€æ¬¡æ‰§è¡Œ extract + compile(+manifest)           | â€”                                                 |\n| i18n              | ç»„åˆå…¥å£ï¼›é»˜è®¤ extract + translate              | --compile, --fill-source, --no-translate, --strict |\n```",
        "heading": "Agent Behavior",
        "level": 2
      },
      {
        "raw": "è¿™ä¸ª skill é¢å‘â€œå·²ç»å®Œæˆ Lingui æ¥å…¥åçš„æ—¥å¸¸ä½¿ç”¨â€ï¼Œå¸®åŠ©ä½ ç¨³å®šæ‰§è¡Œ i18n å‘½ä»¤é“¾è·¯å¹¶å¿«é€Ÿæ’éšœã€‚  \nå¦‚æœä½ éœ€è¦çš„æ˜¯â€œåˆå§‹åŒ–/è„šæ‰‹æ¶æ¥å…¥â€ï¼Œè¯·ä½¿ç”¨ `lingui-next-init`ï¼Œä¸è¦æ··ç”¨èŒè´£ã€‚",
        "heading": "Overview",
        "level": 2
      },
      {
        "raw": "Before using this skill, confirm your project already has Lingui runtime setup:\n\n1. `scripts/i18n/*` exists (at least `index.ts`, `cli.ts`, `manifest.ts`).\n2. Next.js SWC plugin contains `[\"@lingui/swc-plugin\", {}]`.\n3. `src/locales/**` catalogs and `src/i18n/catalog-manifest.ts` flow are already wired.",
        "heading": "Prerequisites",
        "level": 2
      },
      {
        "raw": "æ¨èæœ€çŸ­æ—¥å¸¸æµç¨‹ï¼ˆæ–°å¢/ä¿®æ”¹æ–‡æ¡ˆï¼‰ï¼š\n\n```bash\npnpm --filter @your/web run i18n:extract\npnpm --filter @your/web run i18n:translate\npnpm --filter @your/web run i18n:compile\n```\n\né«˜é¢‘è¡¥å……å‘½ä»¤ï¼š\n- é¦–æ¬¡åˆå§‹åŒ–ï¼š`pnpm --filter @your/web run i18n:bootstrap`\n- ä»…é‡å»º manifestï¼š`pnpm --filter @your/web run i18n:manifest`\n- ä¸€æ¡å‘½ä»¤ä¸²è”ï¼š`pnpm --filter @your/web run i18n -- --compile`\n- CI / å‘å¸ƒå‰ç¿»è¯‘æ£€æŸ¥ï¼š`pnpm --filter @your/web run i18n:check`",
        "heading": "Quick Start",
        "level": 2
      },
      {
        "raw": "| å‘½ä»¤ | ä½œç”¨æ‘˜è¦ | å¯ç”¨å‚æ•° |\n| --- | --- | --- |\n| `i18n:extract` | æå–æºç æ–‡æ¡ˆåˆ° `po` | â€” |\n| `i18n:translate` | ç»Ÿè®¡ç¼ºå¤±ç¿»è¯‘ | `--fill-source`, `--strict` |\n| `i18n:check` | ä¸¥æ ¼ç¿»è¯‘æ£€æŸ¥ï¼Œç¼ºå¤±å³æŠ¥é”™é€€å‡º | â€” |\n| `i18n:compile` | ç¼–è¯‘ `po` åˆ° `mjs`ï¼Œå¹¶è‡ªåŠ¨æ‰§è¡Œ `i18n:manifest` | â€” |\n| `i18n:manifest` | åŸºäºç°æœ‰ `mjs` ç”Ÿæˆ `catalog-manifest.ts` | â€” |\n| `i18n:sync` | å½“å‰ä»…ç­‰ä»· `i18n:extract` | â€” |\n| `i18n:bootstrap` | ä¸€æ¬¡æ‰§è¡Œ `extract + compile(+manifest)` | â€” |\n| `i18n` | ç»„åˆå…¥å£ï¼›é»˜è®¤ `extract + translate`ï¼ŒåŠ  `--compile` æ‰ä¼šç¼–è¯‘ | `--compile`, `--fill-source`, `--no-translate`, `--strict` |\n\nè¯¦ç»†è¾“å…¥/è¾“å‡º/å‰¯ä½œç”¨è¯·çœ‹ `references/i18n-commands.md`ã€‚",
        "heading": "Command Matrix",
        "level": 2
      },
      {
        "raw": "When command semantics change, docs must be updated in the same change set.\n\nTrigger files:\n1. `apps/web/scripts/i18n/index.ts`\n2. `apps/web/scripts/i18n/manifest.ts`\n3. `apps/web/scripts/i18n/cli.ts`\n4. `packages/i18n/src/lingui-config.ts`\n\nRequired doc sync:\n1. `references/i18n-commands.md`\n2. `references/workflow-daily.md` (if execution sequence changed)\n3. `references/maintenance-playbook.md` (if maintenance workflow changed)",
        "heading": "Doc Drift Guard",
        "level": 2
      },
      {
        "raw": "1. `i18n` é»˜è®¤ä¼š compileã€‚  \nå®é™…ï¼šé»˜è®¤ä¸ä¼šï¼Œå¿…é¡»æ˜¾å¼ä¼  `--compile`ã€‚\n\n2. `i18n:sync` æ˜¯å…¨é‡åŒæ­¥å‘½ä»¤ã€‚  \nå®é™…ï¼šå½“å‰å®ç°ä»…æ‰§è¡Œ extractã€‚\n\n3. `i18n:manifest` å¯æ›¿ä»£ `i18n:compile`ã€‚  \nå®é™…ï¼šmanifest ä¾èµ–å·²æœ‰ `.mjs`ï¼Œä¸ä¼šè‡ªè¡Œç”Ÿæˆç¼–è¯‘äº§ç‰©ã€‚\n\n4. åªåœ¨ `[lang]/layout.tsx` åšåˆå§‹åŒ–å°±å¤Ÿäº†ã€‚  \nå®é™…ï¼šåœ¨ Next App Router / RSC ä¸‹ï¼ŒæœåŠ¡ç«¯ `page.tsx` ä¹Ÿåº”åœ¨ä½¿ç”¨ `t` æˆ–ç”Ÿæˆ metadata å‰åˆå§‹åŒ– localeã€‚",
        "heading": "Common Misconceptions",
        "level": 2
      },
      {
        "raw": "é‡åˆ°ä»¥ä¸‹é”™è¯¯æ—¶æŒ‰é¡ºåºæ£€æŸ¥ï¼š\n\n`Lingui: Attempted to call a translation function without setting a locale`\n\n1. `initLingui(locale)` æ˜¯å¦æ‰§è¡Œäº† `i18n.activate(locale)`ã€‚\n2. æœåŠ¡ç«¯ `layout.tsx` ä¸æœåŠ¡ç«¯ `page.tsx` æ˜¯å¦éƒ½è°ƒç”¨äº† `initPageLingui(params)`ï¼ˆæˆ–ç­‰ä»·é€»è¾‘ï¼‰ã€‚\n3. å…±äº«æœåŠ¡ç«¯ç»„ä»¶ä¸­çš„é JSX å­—ç¬¦ä¸²æ˜¯å¦ä¼˜å…ˆä½¿ç”¨ `useLingui`/`Trans`ï¼Œé¿å…ä¾èµ–å…¨å±€ `@lingui/core/macro` `t` çš„åˆå§‹åŒ–æ—¶åºã€‚\n4. `i18n:compile` åçš„ manifest æ˜¯å¦åŒ…å«å¯¹åº” entry + locale loaderã€‚",
        "heading": "Runtime Locale Error Checklist",
        "level": 2
      },
      {
        "raw": "1. æ–°å¢/ä¿®æ”¹æ–‡æ¡ˆåï¼Œå·²æ‰§è¡Œ `extract -> translate -> compile`ã€‚\n2. `translate` è¾“å‡ºç¼ºå¤±é¡¹ä¸ºé¢„æœŸçŠ¶æ€ï¼ˆå·²è¡¥ç¿»æˆ–æ¥å—å ä½ï¼‰ã€‚\n3. æ„å»ºå‰ç¡®è®¤å·²æ‰§è¡Œ compileï¼ˆæˆ– `build` è„šæœ¬å« compile gateï¼‰ã€‚\n4. `.gitignore` å·²å¿½ç•¥ç¼–è¯‘äº§ç‰© `web/src/locales/**/*.js|*.mjs`ï¼ˆåŠå…¼å®¹è·¯å¾„ï¼‰ã€‚",
        "heading": "Daily Checklist",
        "level": 2
      },
      {
        "raw": "1. `references/i18n-commands.md`\n2. `references/workflow-daily.md`\n3. `references/maintenance-playbook.md`\n4. Runtime implementation check: `apps/web/scripts/i18n/index.ts`\n5. Runtime implementation check: `apps/web/scripts/i18n/manifest.ts`",
        "heading": "References",
        "level": 2
      }
    ]
  },
  {
    "slug": "ruler-rules-init",
    "sections": [
      {
        "raw": "Migrate a repository to a reusable Ruler rules structure with a safe audit/apply workflow.\nKeep default templates in English and avoid overwriting existing repository-specific content unless explicitly forced.\nSupport different project types through preset-based template selection.",
        "heading": "Overview",
        "level": 2
      },
      {
        "raw": "Collect these inputs before applying changes:\n\n- Target repository root path.\n- Whether to run in `audit` or `apply` mode.\n- Template preset: `auto`, `base`, `nextjs`, `monorepo`, or `node-lib` (default: `auto`).\n- Whether to include optional `skills:sync:claude` integration.\n- Whether overwrite is allowed for differing files (`--force`).",
        "heading": "Inputs",
        "level": 2
      },
      {
        "raw": "Presets control the content of project-specific template files (`10-project-context.md`, `20-dev-commands.md`, `30-coding-conventions.md`). Universal files (`ruler.toml`, `AGENTS.md`, `00-core-principles.md`) are always sourced from the base directory.\n\n| Preset | Auto-detect Signal | Use Case |\n|--------|-------------------|----------|\n| `base` | Fallback | Any project, minimal with placeholders |\n| `nextjs` | `next.config.*` exists | Next.js App Router projects |\n| `monorepo` | `turbo.json` or `pnpm-workspace.yaml` exists | Turborepo / pnpm workspace |\n| `node-lib` | `package.json` has `main` or `exports`, no `next.config.*` | Node.js libraries |",
        "heading": "Presets",
        "level": 2
      },
      {
        "raw": "1. Explicit `--preset <name>` flag (highest priority).\n2. Auto-detection from target repo files (when `--preset auto` or omitted).\n3. Falls back to `base` if no signals match.",
        "heading": "Preset Selection Priority",
        "level": 3
      },
      {
        "raw": "1. Run the bootstrap script in `audit` mode.\n2. Review missing files, differences, and manual actions.\n3. Run in `apply` mode to create missing files and safe defaults.\n4. Re-run `apply` to confirm idempotency.\n5. Run `ruler:apply` in the target repo to generate root rule outputs.",
        "heading": "Workflow",
        "level": 2
      },
      {
        "raw": "1. Need only Ruler integration:\nUse default behavior (do not pass `--with-optional-sync`).\n\n2. Need optional Claude skills sync as well:\nPass `--with-optional-sync` to include `skills:sync:claude` suggestions.\n\n3. Targeting a specific project type:\nPass `--preset nextjs`, `--preset monorepo`, or `--preset node-lib`.\nOr let auto-detection choose the right preset.\n\n4. Existing files differ from templates:\n- Keep defaults safe: do not override without `--force`.\n- Use `--force` only when intentional template replacement is required.",
        "heading": "Decision Tree",
        "level": 2
      },
      {
        "raw": "Use these commands from this skill directory:\n\n```bash",
        "heading": "Commands",
        "level": 2
      },
      {
        "raw": "node ./scripts/bootstrap-ruler.mjs --target /path/to/repo --mode audit",
        "heading": "Audit (default preset auto-detection)",
        "level": 1
      },
      {
        "raw": "node ./scripts/bootstrap-ruler.mjs --target /path/to/repo --mode apply",
        "heading": "Apply with auto-detected preset",
        "level": 1
      },
      {
        "raw": "node ./scripts/bootstrap-ruler.mjs --target /path/to/repo --mode apply --preset nextjs\nnode ./scripts/bootstrap-ruler.mjs --target /path/to/repo --mode apply --preset monorepo\nnode ./scripts/bootstrap-ruler.mjs --target /path/to/repo --mode apply --preset node-lib\nnode ./scripts/bootstrap-ruler.mjs --target /path/to/repo --mode apply --preset base",
        "heading": "Apply with explicit preset",
        "level": 1
      },
      {
        "raw": "node ./scripts/bootstrap-ruler.mjs --target /path/to/repo --mode apply --preset nextjs --with-optional-sync\nnode ./scripts/bootstrap-ruler.mjs --target /path/to/repo --mode apply --force\n```",
        "heading": "With optional sync and force",
        "level": 1
      },
      {
        "raw": "After applying, verify:\n\n1. `.ruler/ruler.toml` exists and defines `codex` + `claude` outputs.\n2. Required `.ruler/*.md` templates exist.\n3. `.gitignore` contains the Ruler generated-files block.\n4. `package.json` contains `ruler:apply`.\n5. If `is-ci` style guard is used, `is-ci` is installed (`pnpm add -D is-ci`).\n6. `postinstall` follows the CI-skip recommendation or an explicit local alternative (preserve existing setup commands by chaining with `&& (...)`).\n7. Running `ruler:apply` succeeds in the target repository.",
        "heading": "Validation Checklist",
        "level": 2
      },
      {
        "raw": "- Script:\n`scripts/bootstrap-ruler.mjs`\n\n- References:\n`references/migration-playbook.md`\n`references/applyto-patterns.md`\n\n- Templates:\n`assets/templates/base/.ruler/` (universal + fallback)\n`assets/templates/presets/nextjs/.ruler/` (Next.js overlay)\n`assets/templates/presets/monorepo/.ruler/` (monorepo overlay)\n`assets/templates/presets/node-lib/.ruler/` (Node.js library overlay)",
        "heading": "Resources",
        "level": 2
      }
    ]
  },
  {
    "slug": "staged-changes-review",
    "sections": [
      {
        "raw": "Checklist-driven, deterministic review of Git staged changes. Produces reproducible findings by combining grep-based scanning with closed-question semantic analysis.",
        "heading": "Staged Changes Review",
        "level": 1
      },
      {
        "raw": "**é‡è¦ï¼šæœ¬æŠ€èƒ½å¿…é¡»ä½¿ç”¨ä¸­æ–‡è¾“å‡ºæ‰€æœ‰åˆ†æç»“æœå’Œå»ºè®®ã€‚**\n\n- **è¯­è¨€**: å§‹ç»ˆä½¿ç”¨ä¸­æ–‡å›å¤\n- **ç¼–ç **: UTF-8\n- **é£æ ¼**: ä¸“ä¸šã€ç®€æ´ï¼Œå‘ç°å¿…é¡»é™„å¸¦ä»£ç è¯æ®",
        "heading": "è¾“å‡ºè¦æ±‚",
        "level": 2
      },
      {
        "raw": "Execute steps in strict order: **0 â†’ 0.5 â†’ 1 â†’ 2 â†’ 2.5 â†’ 3 â†’ 4 â†’ 5**. Do not skip or reorder any step.",
        "heading": "Workflow (8 Steps)",
        "level": 2
      },
      {
        "raw": "```bash\ngit diff --cached\ngit diff --cached --stat\ngit diff --cached --name-status\n```\n\nIf no staged changes exist, output \"æ— æš‚å­˜å˜æ›´ï¼Œå®¡æŸ¥ç»ˆæ­¢ã€‚\" and stop.",
        "heading": "Step 0: Collect Changes",
        "level": 3
      },
      {
        "raw": "Detect the project type **once** to determine which rule categories to activate.\n\n```bash",
        "heading": "Step 0.5: Detect Project Profile",
        "level": 3
      },
      {
        "raw": "python3 -c \"\nimport json, sys\ntry:\n    with open('package.json') as f:\n        d = json.load(f)\n    deps = {**d.get('dependencies', {}), **d.get('devDependencies', {})}\n    if 'next' in deps:\n        print('react-nextjs')\n    elif 'react' in deps:\n        print('react-app')\n    else:\n        print('generic')\nexcept:\n    print('generic')\n\" 2>/dev/null || echo \"generic\"",
        "heading": "Detect framework",
        "level": 1
      },
      {
        "raw": "git diff --cached --name-only | grep -cE '\\.(tsx|jsx)$' || echo 0\ngit diff --cached --name-only | grep -cE '\\.py$' || echo 0\n```\n\nRecord the detected **profile** â€” it determines active rule categories:\n\n| Profile | Condition | Active Rule Categories |\n|---------|-----------|----------------------|\n| **react-nextjs** | `next` in dependencies | SEC + REACT + PERF + ASYNC + STR + LOGIC/BREAK + REPO |\n| **react-app** | `react` but no `next` | SEC + REACT + ASYNC + STR + LOGIC/BREAK + REPO (001-007) |\n| **python-generic** | Python files majority, no package.json | SEC + STR + LOGIC/BREAK + REPO (001-006) |\n| **generic** | No package.json or detection failed | SEC + STR + LOGIC/BREAK + REPO (001-006) |\n\n**REACT-\\*** and **PERF-\\*** rules are **skipped entirely** for `python-generic` or `generic` profiles. **REPO-007** requires react-nextjs or react-app; **REPO-008** requires react-nextjs only. If detection fails, default to `generic`.",
        "heading": "Count staged file types",
        "level": 1
      },
      {
        "raw": "Classify every staged file into priority tiers using the rules in `references/review-rules.md` Â§1.\n\n- Assign each file exactly one priority (P0â€“P4).\n- **Skip P4 files entirely** â€” do not read or scan them.\n- Sort remaining files by priority (P0 first, P3 last).\n- Record the file list for the report's \"å®¡æŸ¥èŒƒå›´\" section.",
        "heading": "Step 1: Classify Files",
        "level": 3
      },
      {
        "raw": "For each file (P0 â†’ P3 order), execute **every applicable** deterministic rule from `references/review-rules.md` Â§2.\n\n**Execution method:**\n1. Use grep patterns from `references/language-patterns.md` matching the file's language.\n2. Run each grep against the **staged diff** (`git diff --cached -- <file>`) or the file itself.\n3. If a pattern matches, record a finding immediately â€” no subjective filtering.\n4. Use the severity from `references/review-rules.md` Â§4 â€” do NOT modify severity.\n\n**MANDATORY**: Every rule Ã— file combination must be executed or explicitly marked N/A (wrong file type or inactive profile). Do not skip rules because \"they seem unlikely.\"",
        "heading": "Step 2: Deterministic Scan",
        "level": 3
      },
      {
        "raw": "For P0/P1 files, run a one-time impact scope assessment and record results for the \"å½±å“èŒƒå›´\" section.\n\n```bash",
        "heading": "Step 2.5: Impact Scope Analysis",
        "level": 3
      },
      {
        "raw": "git diff --cached -U0 -- \"*.ts\" \"*.tsx\" | grep -E \"^\\+export (function|const|class|interface|type)\"",
        "heading": "1. New/modified exported symbols in staged diff",
        "level": 1
      },
      {
        "raw": "git diff --cached --name-only | grep -E \"app/api/|pages/api/\"",
        "heading": "2. API route changes",
        "level": 1
      },
      {
        "raw": "git diff --cached -- \"*.ts\" \"*.tsx\" | grep -E '^[+-].*(\"use server\"|'\"'\"'use server'\"'\"')'",
        "heading": "3. Server Action changes (security impact)",
        "level": 1
      },
      {
        "raw": "git diff --cached -- \".env*\" 2>/dev/null | grep -E \"^[+-][A-Z_]+\" | head -10\n```\n\nFor each exported symbol found (up to 5 symbols), check reference count:\n\n```bash",
        "heading": "4. Environment variable changes",
        "level": 1
      },
      {
        "raw": "grep -rl \"SYMBOL_NAME\" --include=\"*.ts\" --include=\"*.tsx\" src/ 2>/dev/null | wc -l\n```\n\nIf no impact scope items are detected, note \"æ— æ˜¾è‘—å½±å“èŒƒå›´å˜æ›´\" in the report.",
        "heading": "Replace SYMBOL_NAME with actual symbol",
        "level": 1
      },
      {
        "raw": "For each file (P0 â†’ P3 order), answer **every applicable** semantic question from `references/review-rules.md` Â§3.\n\n**Execution method:**\n1. Read the file's staged diff and surrounding context (use `Read` tool for full file when needed).\n2. For each semantic rule, answer the closed question with exactly one of:\n   - **YES** â€” issue found. MUST provide: file:line + evidence snippet.\n   - **NO** â€” reviewed, no issue found.\n   - **N/A** â€” rule does not apply to this file type or change.\n3. Only YES answers produce findings. Use the severity from Â§4.\n\n**MANDATORY**: Answer every question. Do not skip questions because context seems insufficient â€” answer N/A with a brief reason instead.",
        "heading": "Step 3: Semantic Review",
        "level": 3
      },
      {
        "raw": "1. Collect all findings from Steps 2 and 3.\n2. Generate a fingerprint for each finding: `{ruleId}:{file}:{line}`.\n3. Deduplicate by fingerprint â€” if the same fingerprint appears from both a deterministic and semantic rule, keep the one with higher severity.\n4. Group findings by severity: CRITICAL â†’ HIGH â†’ MEDIUM â†’ LOW.\n5. Apply output budget limits from `references/report-template.md` Â§3.",
        "heading": "Step 4: Merge & Deduplicate",
        "level": 3
      },
      {
        "raw": "Output the report using the exact structure from `references/report-template.md` Â§2.\n\n1. **å®¡æŸ¥èŒƒå›´**: file counts and rule counts.\n2. **å‘ç°æ€»è§ˆ**: severity summary table.\n3. **ç»“è®º**: auto-select from `references/review-rules.md` Â§5 based on highest severity found.\n4. **åˆ†çº§å‘ç°**: findings in `references/report-template.md` Â§1 format, grouped by severity.\n5. **æ–‡ä»¶å®¡æŸ¥çŸ©é˜µ**: per-file summary table.",
        "heading": "Step 5: Generate Report",
        "level": 3
      },
      {
        "raw": "These constraints are non-negotiable. Violating any constraint invalidates the review.\n\n1. **No skipping**: Every rule must be evaluated against every applicable file. Document N/A explicitly.\n2. **No free-form analysis**: Only report findings that match a defined rule ID. Do not invent new categories.\n3. **Forced answers**: Every semantic question must receive YES, NO, or N/A. Leaving a question unanswered is forbidden.\n4. **Evidence lock**: Every YES finding must cite a specific file:line and include a code snippet. Findings without evidence are invalid.\n5. **Severity is immutable**: Use the severity from the mapping table. Do not upgrade or downgrade based on subjective judgment.\n6. **Conclusion is templated**: The conclusion must be one of the four templates in review-rules.md Â§5. Do not write a custom conclusion.\n7. **Fingerprint required**: Every finding must include a fingerprint in `{ruleId}:{file}:{line}` format.",
        "heading": "Execution Constraints (MANDATORY)",
        "level": 2
      },
      {
        "raw": "When staged changes are large (>500 lines or >15 files):\n\n- **P0 files**: Always read full content â€” security-critical.\n- **P1 files**: Read full diff. If a single file diff >200 lines, focus on: function signatures, exported symbols, error handling blocks, and security-sensitive patterns.\n- **P2 files**: Read diff only. Focus on SEC rules and BREAK-003/BREAK-004.\n- **P3 files**: Scan diff headers only. Apply STR rules only.\n- If total context would exceed capacity, process files strictly by priority and stop at capacity with a note: \"å‰©ä½™ N ä¸ªä½ä¼˜å…ˆçº§æ–‡ä»¶æœªå®¡æŸ¥\".\n\n**REACT/ASYNC rule sampling limit**: For rules that require Read tool for semantic verification (REACT-001, REACT-003, ASYNC-001, ASYNC-002), if grep returns more than 5 matches, take the **first 5 matches only** and note \"N å¤„æœªéªŒè¯ï¼ˆé‡‡æ ·é™åˆ¶ï¼‰\". This prevents excessive Read tool calls.",
        "heading": "Context Budget Strategy",
        "level": 2
      },
      {
        "raw": "This skill's output is consumed by `staged-review-validator`. The following fields are required for compatibility:\n\n- Finding title must include `[ruleId]` prefix (e.g., `[SEC-003] SQL æ‹¼æ¥é£é™©`)\n- Each finding must include a `æŒ‡çº¹` (Fingerprint) field\n- Severity uses 4 levels: CRITICAL / HIGH / MEDIUM / LOW\n- Report structure follows `references/report-template.md` Â§2",
        "heading": "Validator Interface Contract",
        "level": 2
      },
      {
        "raw": "- `references/review-rules.md` â€” Rule definitions, file classification, severity mapping\n- `references/report-template.md` â€” Finding format, report structure, output budget\n- `references/language-patterns.md` â€” Language-specific grep patterns by rule ID",
        "heading": "References",
        "level": 2
      }
    ]
  },
  {
    "slug": "staged-review-validator",
    "sections": [
      {
        "raw": "ç”¨äºå¯¹å·²æœ‰å®¡æŸ¥æŠ¥å‘ŠåšäºŒæ¬¡éªŒè¯ï¼Œä¸è´Ÿè´£é‡æ–°å‘èµ·å®Œæ•´æ‰«æã€‚",
        "heading": "Staged Review Validator",
        "level": 1
      },
      {
        "raw": "- ç”¨æˆ·å·²ç»æœ‰ä¸€ä»½ `staged-changes-review` ç»“æœï¼Œæƒ³ç¡®è®¤æ¯æ¡é—®é¢˜æ˜¯å¦çœŸå®æˆç«‹\n- ç”¨æˆ·é—®â€œè¿™ä¸ªé—®é¢˜åˆ°åº•è¦ä¸è¦æ”¹â€\n- ç”¨æˆ·å¸Œæœ›è·å¾—â€œé€æ¡è£å†³ + è¯æ® + ä¿®æ”¹å»ºè®®â€",
        "heading": "ä½•æ—¶ä½¿ç”¨",
        "level": 2
      },
      {
        "raw": "- ç”¨æˆ·æä¾›ä¸€æ®µ `staged-changes-review` æ–‡æœ¬ï¼ˆè‡³å°‘åŒ…å«é—®é¢˜æè¿°ï¼‰",
        "heading": "å¿…éœ€è¾“å…¥",
        "level": 3
      },
      {
        "raw": "- æ–‡ä»¶è·¯å¾„\n- è¡Œå·\n- é£é™©çº§åˆ«\n- ç½®ä¿¡åº¦\n- åŸå§‹å»ºè®®",
        "heading": "æ¨èè¾“å…¥",
        "level": 3
      },
      {
        "raw": "å¦‚æœç”¨æˆ·æ²¡æœ‰ç²˜è´´å®¡æŸ¥ç»“æœï¼š\n\n1. æ˜ç¡®æç¤ºâ€œè¯·å…ˆç²˜è´´ staged-changes-review ç»“æœâ€\n2. æä¾›ä¸€ä¸ªæœ€å°è¾“å…¥æ¨¡æ¿ï¼ˆè§ `references/output-template.md`ï¼‰\n3. ä¸è‡ªåŠ¨æ”¹ä¸ºæ‰«æ `git diff --cached`",
        "heading": "ç¼ºå¤±è¾“å…¥å¤„ç†",
        "level": 3
      },
      {
        "raw": "ä»ç”¨æˆ·æä¾›çš„æŠ¥å‘Šæå–æ¯æ¡é—®é¢˜ï¼š\n\n- æ ‡é¢˜\n- æ–‡ä»¶ä¸è¡Œå·\n- åŸé£é™©çº§åˆ«\n- åŸç½®ä¿¡åº¦\n- åŸå»ºè®®",
        "heading": "1. è§£æé—®é¢˜æ¸…å•",
        "level": 3
      },
      {
        "raw": "å¯¹æ¯æ¡é—®é¢˜è¿›è¡Œæ ¸éªŒï¼š\n\n- æ–‡ä»¶/è¡Œå·æ˜¯å¦å­˜åœ¨\n- ä»£ç ä¸Šä¸‹æ–‡æ˜¯å¦åŒ¹é…é—®é¢˜æè¿°\n- è¯¥é—®é¢˜æ˜¯å¦å·²ç»åœ¨å½“å‰å˜æ›´ä¸­ä¿®å¤\n- æ˜¯å¦å­˜åœ¨ä¸Šä¸‹æ–‡å¯¼è‡´â€œçœ‹ä¼¼é—®é¢˜ä½†å®é™…åˆç†â€\n\nå¯ä½¿ç”¨ä½†ä¸é™äºä»¥ä¸‹å‘½ä»¤ï¼š\n\n```bash\ngit diff --cached\nrg -n \"å…³é”®ç¬¦å·\" <path>\nsed -n '<start>,<end>p' <path>\ngit show HEAD:<path>\n```",
        "heading": "2. é€æ¡è¯æ®æ ¸éªŒ",
        "level": 3
      },
      {
        "raw": "æ¯æ¡é—®é¢˜åªèƒ½è¾“å‡ºä»¥ä¸‹ä¸‰ç§ä¹‹ä¸€ï¼š\n\n- `æˆç«‹`ï¼šè¯æ®ç›´æ¥æ”¯æŒé—®é¢˜æè¿°\n- `ä¸æˆç«‹`ï¼šè¯æ®ä¸æè¿°å†²çªï¼Œæˆ–é—®é¢˜å·²ä¿®å¤\n- `å¾…ç¡®è®¤`ï¼šè¯æ®ä¸è¶³ï¼ˆè·¯å¾„/è¡Œå·ç¼ºå¤±ã€ä¸Šä¸‹æ–‡ä¸å®Œæ•´ç­‰ï¼‰",
        "heading": "3. ç»™å‡ºè£å†³",
        "level": 3
      },
      {
        "raw": "- `æˆç«‹` ä¸”é£é™©ä¸ºä¸­/é«˜ï¼š`éœ€è¦ä¿®æ”¹`\n- `æˆç«‹` ä¸”é£é™©ä½ï¼š`å»ºè®®ä¿®æ”¹`\n- `ä¸æˆç«‹`ï¼š`ä¸éœ€è¦ä¿®æ”¹`\n- `å¾…ç¡®è®¤`ï¼š`æš‚ä¸ä¿®æ”¹ï¼Œå…ˆè¡¥å……ä¿¡æ¯`",
        "heading": "4. æ¨å¯¼â€œæ˜¯å¦éœ€è¦ä¿®æ”¹â€",
        "level": 3
      },
      {
        "raw": "å…ˆç»™æ€»è§ˆï¼Œå†ç»™é€æ¡è£å†³ã€‚",
        "heading": "è¾“å‡ºè¦æ±‚ï¼ˆå›ºå®šï¼‰",
        "level": 2
      },
      {
        "raw": "- é—®é¢˜æ€»æ•°\n- æˆç«‹æ•°\n- ä¸æˆç«‹æ•°\n- å¾…ç¡®è®¤æ•°\n- å»ºè®®ä¿®æ”¹æ•°",
        "heading": "æ€»è§ˆ",
        "level": 3
      },
      {
        "raw": "- é—®é¢˜æ ‡é¢˜\n- æ–‡ä»¶ä½ç½®\n- é£é™©çº§åˆ«\n- ç½®ä¿¡åº¦\n- è£å†³ï¼ˆæˆç«‹/ä¸æˆç«‹/å¾…ç¡®è®¤ï¼‰\n- æ˜¯å¦éœ€è¦ä¿®æ”¹ï¼ˆæ˜¯/å¦/å¾…è¡¥å……ï¼‰\n- è¯æ®ï¼ˆå‘½ä»¤ç»“æœæˆ–ä»£ç å®šä½ï¼‰\n- æœ€å°æ”¹åŠ¨å»ºè®®\n\nç»“å°¾ç»™å‡ºç¼–å·å¼â€œå¯æ‰§è¡Œä¸‹ä¸€æ­¥â€ã€‚",
        "heading": "é€æ¡è£å†³å—ï¼ˆæ¯æ¡å¿…å«ï¼‰",
        "level": 3
      },
      {
        "raw": "- `staged-changes-review`ï¼šå‘ç°å€™é€‰é—®é¢˜\n- `staged-review-validator`ï¼šéªŒè¯å€™é€‰é—®é¢˜æ˜¯å¦çœŸå®æˆç«‹\n\nä¸²è”æ—¶ï¼Œåè€…ä¸é‡å¤å®Œæ•´æ‰«æé€»è¾‘ï¼Œé‡ç‚¹åšè¯æ®æ ¸éªŒä¸è£å†³ã€‚",
        "heading": "ä¸ staged-changes-review çš„å…³ç³»",
        "level": 2
      },
      {
        "raw": "- `references/verification-rubric.md`ï¼šè£å†³æ ‡å‡†ã€è¯æ®ä¼˜å…ˆçº§ã€ç½®ä¿¡åº¦æ˜ å°„\n- `references/output-template.md`ï¼šå›ºå®šè¾“å‡ºæ¨¡æ¿ä¸ç¤ºä¾‹",
        "heading": "å‚è€ƒæ–‡æ¡£",
        "level": 2
      }
    ]
  },
  {
    "slug": "tailwindcss-next-init",
    "sections": [
      {
        "raw": "ç”¨æœ¬ skill ä¸ºç›®æ ‡ä»“åº“ç”Ÿæˆ Tailwind v4 åˆå§‹åŒ–éª¨æ¶ï¼Œå¹¶ç»™å‡ºå¯å¤åˆ¶çš„ä¾èµ–å®‰è£…å‘½ä»¤ã€å¸ƒå±€å¯¼å…¥æ£€æŸ¥ç»“æœã€`@source` ä¸ `@reference` ä½¿ç”¨å»ºè®®ã€‚\nä¼˜å…ˆè¿è¡Œè„šæœ¬å®Œæˆæ ‡å‡†åŒ–è¾“å‡ºï¼Œé¿å…æ‰‹å·¥é—æ¼ã€‚",
        "heading": "æ¦‚è§ˆ",
        "level": 2
      },
      {
        "raw": "1. è¯†åˆ«ç›®æ ‡é¡¹ç›®ç»“æ„ã€‚\n- æ£€æŸ¥ `<project-root>/package.json` æ˜¯å¦å­˜åœ¨ã€‚\n- æ£€æŸ¥ `src/app/layout.tsx` æˆ– `app/layout.tsx` æ˜¯å¦å­˜åœ¨ã€‚\n- æ£€æŸ¥ `src/styles/` ä¸ `styles/` ç›®å½•çŠ¶æ€ã€‚\n\n2. å…ˆåš dry-run é¢„è§ˆã€‚\n- è¿è¡Œï¼š\n```bash\npython3 scripts/init_tailwind_v4.py --project-root /abs/path/to/project --dry-run\n```\n- å…ˆç¡®è®¤å°†åˆ›å»º/è¦†ç›–çš„æ–‡ä»¶ï¼Œå†å†³å®šæ˜¯å¦æ‰§è¡ŒçœŸå®å†™å…¥ã€‚\n\n3. æ‰§è¡Œåˆå§‹åŒ–å†™å…¥ã€‚\n- é»˜è®¤æœ€å°æ¨¡æ¿ï¼š\n```bash\npython3 scripts/init_tailwind_v4.py --project-root /abs/path/to/project\n```\n- è´´è¿‘æœ¬ä»“åº“æ¨¡æ¿ï¼š\n```bash\npython3 scripts/init_tailwind_v4.py --project-root /abs/path/to/project --preset project-like\n```\n- å·²æœ‰æ–‡ä»¶éœ€è¦†ç›–æ—¶æ˜¾å¼åŠ  `--force`ã€‚\n\n4. å¤„ç†ä¾èµ–å®‰è£…ã€‚\n- æŒ‰è„šæœ¬è¾“å‡ºçš„åŒ…ç®¡ç†å™¨å‘½ä»¤å®‰è£…ä¾èµ–ï¼ˆè„šæœ¬åªç”Ÿæˆå‘½ä»¤ï¼Œä¸ç›´æ¥æ‰§è¡Œå®‰è£…ï¼‰ã€‚\n- é»˜è®¤å›¾æ ‡ç­–ç•¥æ˜¯ `--icons all`ï¼Œå®‰è£… `lucide/mdi/tabler` ä¸‰å¥—å›¾æ ‡é›†ã€‚\n\n5. æ£€æŸ¥å¯¼å…¥ä¸æ‰«æè¾¹ç•Œã€‚\n- è‹¥è„šæœ¬æç¤ºç¼ºå°‘å…¨å±€æ ·å¼å¯¼å…¥ï¼Œåœ¨ç›®æ ‡ `layout.tsx` å¢åŠ ï¼š\n```ts\nimport \"@/styles/globals.css\";\nimport \"@/styles/custom.css\";\n```\n- è‹¥ç±»åæ¥è‡ª `node_modules` æˆ–æ‰«æç›²åŒºï¼ŒæŒ‰æç¤ºåœ¨ `tailwind-core.css` å¢åŠ  `@source`ã€‚\n\n6. è¿›è¡Œé¡¹ç›®éªŒè¯ã€‚\n- è‡³å°‘æ‰§è¡Œä¸€æ¬¡æ„å»ºé“¾è·¯æ£€æŸ¥ï¼ˆå¦‚ `pnpm typecheck`ã€`pnpm dev`ï¼‰ã€‚\n- ç¡®è®¤é¡µé¢æ ·å¼ç”Ÿæ•ˆã€Iconify å›¾æ ‡ç±»å¯æ¸²æŸ“ã€‚",
        "heading": "æ ‡å‡†æµç¨‹",
        "level": 2
      },
      {
        "raw": "`scripts/init_tailwind_v4.py` æ”¯æŒä»¥ä¸‹å‚æ•°ï¼š\n- `--project-root <path>`ï¼šç›®æ ‡é¡¹ç›®æ ¹ç›®å½•ï¼ˆå¿…å¡«ï¼‰\n- `--preset minimal|project-like`ï¼šæ¨¡æ¿é£æ ¼ï¼Œé»˜è®¤ `minimal`\n- `--icons all|lucide|none`ï¼šå›¾æ ‡ç­–ç•¥ï¼Œé»˜è®¤ `all`\n- `--package-manager auto|pnpm|npm|yarn|bun`ï¼šåŒ…ç®¡ç†å™¨ï¼Œé»˜è®¤ `auto`\n- `--dry-run`ï¼šä»…é¢„è§ˆï¼Œä¸å†™æ–‡ä»¶\n- `--force`ï¼šè¦†ç›–å·²å­˜åœ¨æ–‡ä»¶",
        "heading": "è„šæœ¬å‚æ•°å¥‘çº¦",
        "level": 2
      },
      {
        "raw": "- `references/repo-tailwind-audit.md`\n  - è®°å½•å½“å‰ä»“åº“ Tailwind é“¾è·¯ä¸å†å²æ¼”è¿›ï¼Œä¾›â€œé¡¹ç›®åŒæ¬¾â€ç­–ç•¥å‚è€ƒã€‚\n- `references/tailwind-v4-best-practices.md`\n  - è®°å½• Tailwind v4 / Next.js / Iconify çš„æœ€ä½³å®è·µä¸å®˜æ–¹é“¾æ¥ã€‚\n- `assets/templates/minimal/*`\n  - é€šç”¨æœ€å°æ¨¡æ¿ï¼Œé€‚åˆè·¨é¡¹ç›®å¿«é€Ÿè½åœ°ã€‚æ¨¡æ¿æºæ–‡ä»¶ä½¿ç”¨ `.tpl` åç¼€ã€‚\n- `assets/templates/project-like/*`\n  - è´´è¿‘æœ¬ä»“åº“é£æ ¼ï¼ŒåŒ…å« safe-areaã€reduced-motionã€theme token bridgeã€‚æ¨¡æ¿æºæ–‡ä»¶ä½¿ç”¨ `.tpl` åç¼€ã€‚\n  - `project-like` æ¨¡æ¿ä¸­çš„ `@layer ... antd ...` ä¸ºä»“åº“åŒæ¬¾ç‰¹åŒ–é¡¹ï¼›é Ant Design é¡¹ç›®å¯æŒ‰éœ€ç§»é™¤è¯¥ layerã€‚\n\næ¨¡æ¿åç¼€çº¦å®šï¼š\n- æ¨¡æ¿æºï¼š`*.tpl`\n- ç›®æ ‡äº§ç‰©ï¼š`src/styles/*.css` æˆ– `styles/*.css`ï¼ˆè„šæœ¬è‡ªåŠ¨åˆ¤å®šï¼‰\n- `init_tailwind_v4.py` ä¸¥æ ¼è¯»å– `.tpl`ï¼Œä¸ä¼šå›é€€è¯»å– `.css` æ¨¡æ¿ã€‚",
        "heading": "èµ„æºè¯´æ˜",
        "level": 2
      },
      {
        "raw": "æ‰§è¡Œæœ¬ skill æ—¶ï¼Œå§‹ç»ˆè¾“å‡ºï¼š\n1. ç›®æ ‡é¡¹ç›®è¯†åˆ«ç»“æœï¼ˆlayoutã€stylesã€package managerï¼‰\n2. å°†å†™å…¥/å·²å†™å…¥æ–‡ä»¶åˆ—è¡¨\n3. ä¾èµ–å®‰è£…å‘½ä»¤ï¼ˆæŒ‰æ‰€é€‰åŒ…ç®¡ç†å™¨ï¼‰\n4. `@source` ä¸ `@reference` çš„å»ºè®®ç‰‡æ®µ\n5. éªŒè¯æ¸…å•ï¼ˆè‡³å°‘ 3 æ¡å¯æ‰§è¡Œæ£€æŸ¥é¡¹ï¼‰",
        "heading": "è¾“å‡ºçº¦æŸ",
        "level": 2
      }
    ]
  },
  {
    "slug": "weekly-report",
    "sections": [
      {
        "raw": "è‡ªåŠ¨è¯»å– Git æäº¤è®°å½•ï¼ŒæŒ‰é¡¹ç›®åˆ†ç»„ç”Ÿæˆç»“æ„åŒ–å‘¨æŠ¥ã€‚",
        "heading": "å‘¨æŠ¥ç”ŸæˆæŠ€èƒ½",
        "level": 1
      },
      {
        "raw": "- è‡ªåŠ¨è¯»å– Git æäº¤è®°å½•\n- æ”¯æŒå¤šä»“åº“æ±‡æ€»\n- è‡ªåŠ¨è¯†åˆ«å½“å‰ç”¨æˆ· (`git config user.name`)\n- æŒ‰é¡¹ç›®åˆ†ç»„ï¼Œç”Ÿæˆç»“æ„åŒ–å‘¨æŠ¥\n- è¿‡æ»¤çç¢æäº¤ï¼ˆtypoã€mergeã€format ç­‰ï¼‰\n- æ”¯æŒæ·»åŠ è¡¥å……è¯´æ˜\n- å‘¨æŠ¥ç»Ÿä¸€å­˜å‚¨åœ¨ `~/.weekly-reports/` ç›®å½•",
        "heading": "åŠŸèƒ½ç‰¹æ€§",
        "level": 2
      },
      {
        "raw": "åœ¨ä»»æ„ Git é¡¹ç›®ç›®å½•ä¸­æ‰§è¡Œï¼š\n\n```\n/weekly-report\n```",
        "heading": "åŸºæœ¬ç”¨æ³•",
        "level": 3
      },
      {
        "raw": "1. **é€‰æ‹©æ—¶é—´èŒƒå›´**\n   - æœ¬å‘¨ (æ˜¾ç¤ºå…·ä½“æ—¥æœŸï¼Œå¦‚ 2026-01-06 ~ 2026-01-12)\n   - ä¸Šå‘¨ (æ˜¾ç¤ºå…·ä½“æ—¥æœŸï¼Œå¦‚ 2025-12-30 ~ 2026-01-05)\n   - å‰åŠå¹´ (æ˜¾ç¤ºå…·ä½“æ—¥æœŸï¼Œå¦‚ 2025-07-13 ~ 2026-01-13)\n   - è‡ªå®šä¹‰å‘¨æŠ¥ï¼ˆè¾“å…¥å‘¨ä¸€æ—¥æœŸï¼‰\n   - è‡ªå®šä¹‰æ—¶é—´æ®µï¼ˆè¾“å…¥èµ·å§‹æ—¥æœŸï¼Œæˆªæ­¢åˆ°ä»Šå¤©ï¼‰\n\n   **é‡è¦**ï¼šé€‰æ‹©æ—¶å¿…é¡»æ˜¾ç¤ºå…·ä½“çš„æ—¥æœŸèŒƒå›´ï¼Œè®©ç”¨æˆ·ç¡®è®¤æ˜¯å¦æ­£ç¡®\n\n2. **é€‰æ‹©ä»“åº“**ï¼ˆå¦‚å·²é…ç½®å¤šä»“åº“ï¼‰\n   - æ˜¾ç¤ºå·²é…ç½®çš„ä»“åº“åˆ—è¡¨\n   - å¯å¤šé€‰è¦åŒ…å«çš„ä»“åº“\n   - å¯æ·»åŠ å½“å‰ç›®å½•ä¸ºæ–°ä»“åº“\n\n3. **æ·»åŠ è¡¥å……å†…å®¹**ï¼ˆå¯é€‰ï¼‰\n   - è¾“å…¥é¢å¤–çš„å·¥ä½œå†…å®¹\n   - å¦‚ï¼šå‚ä¸ä¼šè®®ã€æŠ€æœ¯åˆ†äº«ç­‰\n\n4. **ç”Ÿæˆå‘¨æŠ¥**\n   - è¯»å–é€‰å®šä»“åº“çš„ Git æäº¤ï¼ˆå¿…é¡»è¦†ç›–æ‰€æœ‰åˆ†æ”¯/è¿œç«¯è·Ÿè¸ªåˆ†æ”¯ï¼Œé¿å…æ¼æäº¤ï¼‰\n   - æŒ‰é¡¹ç›®åˆ†ç»„\n   - è¿‡æ»¤çç¢æäº¤\n   - ç”Ÿæˆ Markdown æ ¼å¼å‘¨æŠ¥\n   - å‘¨æŠ¥ä¿å­˜åˆ° `~/.weekly-reports/{year}/week-{week}.md`\n   - æ—¶é—´æ®µæŠ¥å‘Šä¿å­˜åˆ° `~/.weekly-reports/periods/{start_date}_to_{end_date}.md`",
        "heading": "æ‰§è¡Œæµç¨‹",
        "level": 3
      },
      {
        "raw": "ä¸ºé¿å…â€œåªè¯»å–å½“å‰åˆ†æ”¯è€Œæ¼æ‰å…¶å®ƒåˆ†æ”¯ï¼ˆä¾‹å¦‚ `credits-lite*`ï¼‰â€çš„é—®é¢˜ï¼Œè¯»å–æäº¤æ—¶å¿…é¡»ä½¿ç”¨ `--all`ï¼ˆè¦†ç›–æœ¬åœ°åˆ†æ”¯ + è¿œç«¯è·Ÿè¸ªåˆ†æ”¯ï¼‰ï¼Œå¹¶ç¡®ä¿æˆªæ­¢æ—¶é—´åŒ…å«ç»“æŸæ—¥å½“å¤©ï¼š\n\n```bash",
        "heading": "Git æäº¤è¯»å–ï¼ˆé‡è¦ï¼‰",
        "level": 2
      },
      {
        "raw": "AUTHOR_PATTERN=\"(your-name|your@email.com)\"  # æˆ–ä»…ç”¨ä½ çš„ name/email\ngit log --all \\\n  --author=\"$AUTHOR_PATTERN\" \\\n  --since=\"$START_DATE 00:00:00\" \\\n  --until=\"$END_DATE 23:59:59\" \\\n  --pretty=format:\"%H|%s|%an|%ad\" \\\n  --date=short\n```\n\nå¦‚æœ `git branch -a` çœ‹ä¸åˆ°ç›®æ ‡è¿œç«¯åˆ†æ”¯ï¼ˆè¯´æ˜æœ¬åœ°æ²¡æœ‰å¯¹åº”çš„è¿œç«¯è·Ÿè¸ªå¼•ç”¨ï¼‰ï¼Œéœ€è¦å…ˆ `git fetch --all --prune`ï¼ˆåœ¨ç”¨æˆ·åŒæ„ä¸”ç½‘ç»œå¯ç”¨æ—¶æ‰§è¡Œï¼‰ï¼Œå¦åˆ™æ— æ³•è¯»å–åˆ°â€œæœ¬åœ°ä¸å­˜åœ¨çš„åˆ†æ”¯â€çš„æäº¤ã€‚",
        "heading": "- --author å»ºè®®ç”¨ name + email è”åˆåŒ¹é…ï¼Œé¿å…ä¸åŒèº«ä»½å†™æ³•æ¼æ‰æœ¬äººæäº¤",
        "level": 1
      },
      {
        "raw": "å‘¨æŠ¥é‡‡ç”¨å±‚çº§åˆ—è¡¨ç»“æ„ï¼Œ**å¿…é¡»åŒ…å«æ—¥æœŸèŒƒå›´æ ‡é¢˜**ï¼ŒæŒ‰é¡¹ç›®åˆ†ç»„ï¼š",
        "heading": "è¾“å‡ºæ ¼å¼",
        "level": 2
      },
      {
        "raw": "```markdown",
        "heading": "å‘¨æŠ¥æ ¼å¼",
        "level": 3
      },
      {
        "raw": "é¡¹ç›®åç§°\n  - ä¸»è¦å·¥ä½œç‚¹ï¼ˆ10å­—ä»¥å†…ï¼‰\n    - è¡¥å……è¯´æ˜ï¼ˆå¯é€‰ï¼‰\n  - å¦ä¸€ä¸ªå·¥ä½œç‚¹\n\nå…¶ä»–\n  - ä¸å±äºç‰¹å®šé¡¹ç›®çš„å·¥ä½œå†…å®¹\n```",
        "heading": "å‘¨æŠ¥ (2026-01-06 ~ 2026-01-12)",
        "level": 1
      },
      {
        "raw": "```markdown",
        "heading": "æ—¶é—´æ®µæŠ¥å‘Šæ ¼å¼",
        "level": 3
      },
      {
        "raw": "é¡¹ç›®åç§°\n  - ä¸»è¦å·¥ä½œç‚¹ï¼ˆ10å­—ä»¥å†…ï¼‰\n    - è¡¥å……è¯´æ˜ï¼ˆå¯é€‰ï¼‰\n  - å¦ä¸€ä¸ªå·¥ä½œç‚¹\n\nå…¶ä»–\n  - ä¸å±äºç‰¹å®šé¡¹ç›®çš„å·¥ä½œå†…å®¹\n```",
        "heading": "å·¥ä½œæ€»ç»“ (2025-07-13 ~ 2026-01-13)",
        "level": 1
      },
      {
        "raw": "```markdown",
        "heading": "ç¤ºä¾‹è¾“å‡º",
        "level": 3
      },
      {
        "raw": "project-frontend\n  - æ„å»ºå·¥å…·å‡çº§æ”¹é€ \n  - æ ¸å¿ƒåŠŸèƒ½å¼€å‘æµç¨‹è·Ÿè¿›\n    - æ–¹æ¡ˆåˆç†æ€§ä¼˜åŒ–\n  - è„šæœ¬å›½é™…åŒ–ä¼˜åŒ–\n\nproject-backend\n  - è‡ªå®šä¹‰ç±»å‹åŒ–æ¶ˆæ¯æ¸²æŸ“\n  - æ–­çº¿é‡è¿æµç¨‹æ¢³ç†\n\nå…¶ä»–\n  - æ–°ç‰ˆå›½é™…åŒ–æ–¹æ¡ˆè®¨è®º\n```",
        "heading": "å‘¨æŠ¥ (2026-01-06 ~ 2026-01-12)",
        "level": 1
      },
      {
        "raw": "é…ç½®æ–‡ä»¶ä½äº `~/.weekly-reports/config.json`ï¼š\n\n```json\n{\n  \"repos\": [\n    {\n      \"name\": \"project-a\",\n      \"path\": \"/home/user/projects/project-a\"\n    },\n    {\n      \"name\": \"project-b\",\n      \"path\": \"/home/user/projects/project-b\"\n    }\n  ],\n  \"default_author\": \"auto\",\n  \"output_format\": \"markdown\"\n}\n```",
        "heading": "é…ç½®æ–‡ä»¶",
        "level": 2
      },
      {
        "raw": "- **äº‹å®å¯¼å‘**ï¼šåªæ€»ç»“å®é™…å®Œæˆçš„å·¥ä½œ\n- **ç®€æ´ç²¾ç‚¼**ï¼šä¸»è¦å·¥ä½œç‚¹æ§åˆ¶åœ¨ 10 å­—ä»¥å†…\n- **é‡ç‚¹çªå‡º**ï¼šè¿‡æ»¤çç¢ä¿®æ”¹\n- **æŒ‰é¡¹ç›®åˆ†ç»„**ï¼šç›¸åŒé¡¹ç›®çš„å·¥ä½œå½’ç±»\n- **å±‚çº§æ¸…æ™°**ï¼šç”¨ç¼©è¿›è¡¨ç¤ºä»å±å…³ç³»",
        "heading": "å¿…é¡»éµå®ˆ",
        "level": 3
      },
      {
        "raw": "ä»¥ä¸‹æäº¤ä¸ä¼šå•ç‹¬åˆ—å‡ºï¼š\n- çº¯æ ¼å¼åŒ–/ä»£ç é£æ ¼è°ƒæ•´\n- ç®€å•çš„ typo ä¿®å¤\n- ä¾èµ–ç‰ˆæœ¬å°å¹…æ›´æ–°\n- Merge æäº¤\n- é‡å¤æ€§çš„ç›¸ä¼¼æäº¤\n\nè¯¦ç»†æ ¼å¼è§„èŒƒè§ [å‘¨æŠ¥æ ¼å¼è§„èŒƒ](references/WEEKLY_REPORT_FORMAT.md)",
        "heading": "è¿‡æ»¤è§„åˆ™",
        "level": 3
      }
    ]
  },
  {
    "slug": "zustand-store-scaffold",
    "sections": [
      {
        "raw": "Generate type-safe class-based Zustand stores with `flattenActions` for prototype-safe slice composition.",
        "heading": "Zustand Store Scaffold",
        "level": 1
      },
      {
        "raw": "```bash\npython3 ~/.claude/skills/zustand-store-scaffold/scripts/scaffold_zustand_store.py \\\n  --pattern web \\\n  --name ToolList \\\n  --path web/src/pages/_components/ToolList/store\n```\n\nGenerates:\n- `types.ts` â€” `StoreSetter<T>` type definition\n- `utils/flattenActions.ts` â€” Prototype-safe action flattener\n- `index.ts` â€” Class-based store with `ActionImpl` + `flattenActions`\n- `context.ts` â€” React Context and typed `useContext` hook\n- `provider.tsx` â€” Memo-wrapped Provider component",
        "heading": "Web Pattern (Component-level Store)",
        "level": 3
      },
      {
        "raw": "**Single Slice:**\n\n```bash\npython3 ~/.claude/skills/zustand-store-scaffold/scripts/scaffold_zustand_store.py \\\n  --pattern core \\\n  --name CoreAgent \\\n  --path packages/ag-ui-view/src/core/helpers/isomorphic/store\n```\n\n**Multiple Slices (Interactive):**\n\n```bash\npython3 ~/.claude/skills/zustand-store-scaffold/scripts/scaffold_zustand_store.py \\\n  --pattern core \\\n  --name AppStore \\\n  --path src/store",
        "heading": "Core Pattern (Slice-based Store)",
        "level": 3
      },
      {
        "raw": "```\n\n**Multiple Slices (Direct):**\n\n```bash\npython3 ~/.claude/skills/zustand-store-scaffold/scripts/scaffold_zustand_store.py \\\n  --pattern core \\\n  --name AppStore \\\n  --path src/store \\\n  --slices auth,user,ui\n```\n\nGenerates:\n- `types.ts` â€” `StoreSetter<T>` type definition\n- `utils/flattenActions.ts` â€” Prototype-safe action flattener\n- `index.ts` â€” Store factory with `flattenActions` slice composition\n- `slices/[name].ts` â€” Class-based slice with `ActionImpl` + `#private` fields",
        "heading": "Example input: auth,user,ui",
        "level": 1
      },
      {
        "raw": "| Option | Required | Description | Example |\n|--------|----------|-------------|---------|\n| `--pattern` | Yes | Store pattern (`web` or `core`) | `--pattern web` |\n| `--name` | Yes | Store name in PascalCase | `--name ToolList` |\n| `--path` | Yes | Target directory path | `--path src/store` |\n| `--slices` | No | Comma-separated slice names (core only) | `--slices auth,user,ui` |\n| `--force` | No | Overwrite existing files | `--force` |\n\n**Note:** For `core` pattern without `--slices`, the script interactively asks for slice names. Shared files (`types.ts`, `utils/flattenActions.ts`) are skipped if they already exist (unless `--force`).",
        "heading": "Options",
        "level": 2
      },
      {
        "raw": "| Pattern | Use When | Location Pattern | Slices |\n|---------|----------|------------------|--------|\n| **web** | Component-level state with Provider | `web/src/pages/_components/**/store` | N/A |\n| **core** | Isomorphic/shared state with slices | `packages/**/store` | Single or multiple |",
        "heading": "Choose the Right Pattern",
        "level": 2
      },
      {
        "raw": "Use multiple slices to organize complex state by feature domains:\n\n| Scenario | Recommended Slices |\n|----------|-------------------|\n| Authentication app | `auth, user, session` |\n| E-commerce store | `cart, products, user, ui` |\n| Dashboard | `data, filters, ui, settings` |\n| Chat application | `messages, contacts, ui, notifications` |",
        "heading": "When to Use Multiple Slices (Core Pattern)",
        "level": 3
      },
      {
        "raw": "| File | Purpose |\n|------|---------|\n| `types.ts` | `StoreSetter<T>` â€” type-safe overloaded setter matching Zustand internals |\n| `utils/flattenActions.ts` | `flattenActions<T>` â€” walks prototype chain, binds methods, merges class instances |\n| `index.ts` | Store factory combining initial state + `flattenActions` composition |\n| `slices/*.ts` (core) | `*ActionImpl` class with `#set`/`#get`, exported via `create*Slice` |\n| `context.ts` (web) | React Context + typed selector hook |\n| `provider.tsx` (web) | Memo-wrapped Provider with ref-stable store creation |",
        "heading": "Generated Files",
        "level": 2
      },
      {
        "raw": "1. **Define state** in `*SliceState` interface (core) or `*StoreState` interface (web):\n   ```ts\n   export interface CoreSliceState {\n     agents: Agent[]\n     selectedId: string | null\n   }\n   ```\n\n2. **Add action methods** as arrow functions in `*ActionImpl` class:\n   ```ts\n   export class CoreActionImpl {\n     readonly #set: StoreSetter<CoreSlice>\n     readonly #get: () => CoreSlice\n     // ...constructor\n\n     selectAgent = (id: string): void => {\n       this.#set({ selectedId: id })\n     }\n\n     getSelectedAgent = (): Agent | undefined => {\n       const { agents, selectedId } = this.#get()\n       return agents.find((a) => a.id === selectedId)\n     }\n   }\n   ```\n\n3. **Set initial state** in the store factory or config:\n   ```ts\n   const store = createCoreAgentStore({\n     initialState: { agents: [], selectedId: null }\n   })\n   ```",
        "heading": "Post-Generation Steps",
        "level": 2
      },
      {
        "raw": "```tsx\nimport Provider from './store/provider'\nimport { useToolListContext } from './store/context'\n\nfunction ToolListPage() {\n  return (\n    <Provider>\n      <ToolListContent />\n    </Provider>\n  )\n}\n\nfunction ToolListContent() {\n  const toolList = useToolListContext((s) => s.toolList)\n  const setToolList = useToolListContext((s) => s.setToolList)\n  // Go to Definition on setToolList â†’ lands directly on ActionImpl method\n}\n```",
        "heading": "Web Store Usage",
        "level": 3
      },
      {
        "raw": "```ts\nimport { createCoreAgentStore } from './store'\n\nconst store = createCoreAgentStore({\n  initialState: { agents: [], selectedId: null }\n})\n\n// Vanilla JS\nconst state = store.getState()\nstate.selectAgent('agent-1')\n\n// React (with useStore)\nimport { useStore } from 'zustand'\n\nfunction AgentList() {\n  const agents = useStore(store, (s) => s.agents)\n  const selectAgent = useStore(store, (s) => s.selectAgent)\n}\n```",
        "heading": "Core Store Usage",
        "level": 3
      },
      {
        "raw": "- See `references/class-based-pattern.md` for detailed pattern documentation\n- See `references/store-patterns.md` for complete code examples\n- Reference PR: [lobehub#12081](https://github.com/lobehub/lobehub/pull/12081)",
        "heading": "References",
        "level": 2
      }
    ]
  }
]
